(function(Q,d){typeof exports=="object"&&typeof module<"u"?d(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],d):(Q=typeof globalThis<"u"?globalThis:Q||self,d(Q.Cullendar={},Q.Vue))})(this,function(Q,d){"use strict";function Qa(){return Math.random().toString(36).substring(2,11)}function q(t,n,e,r,o){return St(n,((i,s)=>{const a=i[s];if(a===void 0)throw new TypeError(ho(s));return a})(t,n),e,r,o)}function St(t,n,e,r,o,i){const s=$n(n,e,r);if(o&&n!==s)throw new RangeError(Js(t,n,e,r,i));return s}function Z(t){return t!==null&&/object|function/.test(typeof t)}function tt(t,n=Map){const e=new n;return(r,...o)=>{if(e.has(r))return e.get(r);const i=t(r,...o);return e.set(r,i),i}}function Zn(t){return gn({name:t},1)}function gn(t,n){return Mt(e=>({value:e,configurable:1,writable:!n}),t)}function tc(t){return Mt(n=>({get:n,configurable:1}),t)}function fr(t){return{[Symbol.toStringTag]:{value:t,configurable:1}}}function wn(t,n){const e={};let r=t.length;for(const o of n)e[t[--r]]=o;return e}function Mt(t,n,e){const r={};for(const o in n)r[o]=t(n[o],o,e);return r}function ye(t,n,e){const r={};for(let o=0;o<n.length;o++){const i=n[o];r[i]=t(i,o,e)}return r}function si(t,n,e){const r={};for(let o=0;o<t.length;o++)r[n[o]]=e[t[o]];return r}function st(t,n){const e=Object.create(null);for(const r of t)e[r]=n[r];return e}function ai(t,n){for(const e of n)if(e in t)return 1;return 0}function ci(t,n,e){for(const r of t)if(n[r]!==e[r])return 0;return 1}function ui(t,n,e){const r={...e};for(let o=0;o<n;o++)r[t[o]]=0;return r}function I(t,...n){return(...e)=>t(...n,...e)}function li(t){return t[0].toUpperCase()+t.substring(1)}function Ln(t){return t.slice().sort()}function ve(t,n){return String(n).padStart(t,"0")}function Pt(t,n){return Math.sign(t-n)}function $n(t,n,e){return Math.min(Math.max(t,n),e)}function bt(t,n){return[Math.floor(t/n),Un(t,n)]}function Un(t,n){return(t%n+n)%n}function Ft(t,n){return[Ee(t,n),hr(t,n)]}function Ee(t,n){return Math.trunc(t/n)||0}function hr(t,n){return t%n||0}function Se(t){return Math.abs(t%1)===.5}function di(t,n,e){let r=0,o=0;for(let a=0;a<=n;a++){const c=t[e[a]],u=yt[a],l=R/u,[f,h]=Ft(c,l);r+=h*u,o+=f}const[i,s]=Ft(r,R);return[o+i,s]}function Me(t,n,e){const r={};for(let o=n;o>=0;o--){const i=yt[o];r[e[o]]=Ee(t,i),t=hr(t,i)}return r}function nc(t){if(t!==void 0)return A(t)}function ec(t){if(t!==void 0)return It(t)}function fi(t){if(t!==void 0)return mr(t)}function It(t){return pi(mr(t))}function mr(t){return mi(fl(t))}function hi(t,n){if(n==null)throw new RangeError(ho(t));return n}function Wn(t){if(!Z(t))throw new TypeError(Bu);return t}function pr(t,n,e=t){if(typeof n!==t)throw new TypeError(Ut(e,n));return n}function mi(t,n="number"){if(!Number.isInteger(t))throw new RangeError(zu(n,t));return t||0}function pi(t,n="number"){if(t<=0)throw new RangeError(_u(n,t));return t}function gr(t){if(typeof t=="symbol")throw new TypeError(xu);return String(t)}function be(t,n){return Z(t)?String(t):A(t,n)}function wr(t){if(typeof t=="string")return BigInt(t);if(typeof t!="bigint")throw new TypeError(Fu(t));return t}function gi(t,n="number"){if(typeof t=="bigint")throw new TypeError(Pu(n));if(t=Number(t),!Number.isFinite(t))throw new RangeError(ku(n,t));return t}function L(t,n){return Math.trunc(gi(t,n))||0}function yr(t,n){return mi(gi(t,n),n)}function wi(t,n){return pi(L(t,n),n)}function vr(t,n){let[e,r]=Ft(n,R),o=t+e;const i=Math.sign(o);return i&&i===-Math.sign(r)&&(o-=i,r+=i*R),[o,r]}function yn(t,n,e=1){return vr(t[0]+n[0]*e,t[1]+n[1]*e)}function rn(t,n){return vr(t[0],t[1]+n)}function ft(t,n){return yn(n,t,-1)}function nt(t,n){return Pt(t[0],n[0])||Pt(t[1],n[1])}function yi(t,n,e){return nt(t,n)===-1||nt(t,e)===1}function Er(t,n=1){const e=BigInt(R/n);return[Number(t/e),Number(t%e)*n]}function Ie(t,n=1){const e=R/n,[r,o]=Ft(t,e);return[r,o*n]}function ht(t,n=1,e){const[r,o]=t,[i,s]=Ft(o,n);return r*(R/n)+(i+(e?s/n:0))}function Sr(t,n,e=bt){const[r,o]=t,[i,s]=e(o,n);return[r*(R/n)+i,s]}function Mr(t){return q(t,"isoYear",ae,se,1),t.isoYear===ae?q(t,"isoMonth",4,12,1):t.isoYear===se&&q(t,"isoMonth",1,9,1),t}function at(t){return H({...t,...K,isoHour:12}),t}function H(t){const n=q(t,"isoYear",ae,se,1),e=n===ae?1:n===se?-1:0;return e&&mt(B({...t,isoDay:t.isoDay+e,isoNanosecond:t.isoNanosecond-e})),t}function mt(t){if(!t||yi(t,El,vl))throw new RangeError(Wt);return t}function xt(t){return di(t,5,dt)[1]}function Te(t){const[n,e]=bt(t,R);return[Me(e,5,dt),n]}function vi(t){return Sr(t,wt)}function $(t){return vn(t.isoYear,t.isoMonth,t.isoDay,t.isoHour,t.isoMinute,t.isoSecond,t.isoMillisecond)}function B(t){const n=$(t);if(n!==void 0){const[e,r]=Ft(n,X);return[e,r*Ct+(t.isoMicrosecond||0)*oe+(t.isoNanosecond||0)]}}function br(t,n){const[e,r]=Te(xt(t)-n);return mt(B({...t,isoDay:t.isoDay+r,...e}))}function De(...t){return vn(...t)/ia}function vn(...t){const[n,e]=Ei(...t),r=n.valueOf();if(!isNaN(r))return r-e*X}function Ei(t,n=1,e=1,r=0,o=0,i=0,s=0){const a=t===ae?1:t===se?-1:0,c=new Date;return c.setUTCHours(r,o,i,s),c.setUTCFullYear(t,n-1,e+a),[c,a]}function En(t,n){let[e,r]=rn(t,n);r<0&&(r+=R,e-=1);const[o,i]=bt(r,Ct),[s,a]=bt(i,oe);return Oe(e*X+o,s,a)}function Oe(t,n=0,e=0){const r=Math.ceil(Math.max(0,Math.abs(t)-yl)/X)*Math.sign(t),o=new Date(t-r*X);return wn(rr,[o.getUTCFullYear(),o.getUTCMonth()+1,o.getUTCDate()+r,o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds(),n,e])}function Ir(t,n){if(n<-864e13)throw new RangeError(Wt);const e=t.formatToParts(n),r={};for(const o of e)r[o.type]=o.value;return r}function Tr(t){return[t.isoYear,t.isoMonth,t.isoDay]}function Si(t,n){return[n,0]}function Mi(){return qt}function bi(t,n){switch(n){case 2:return Dr(t)?29:28;case 4:case 6:case 9:case 11:return 30}return 31}function Ii(t){return Dr(t)?366:365}function Dr(t){return t%4==0&&(t%100!=0||t%400==0)}function Ti(t){const[n,e]=Ei(t.isoYear,t.isoMonth,t.isoDay);return Un(n.getUTCDay()-e,7)||7}function Di(t){return this.id===zn?(({isoYear:n})=>n<1?["gregory-inverse",1-n]:["gregory",n])(t):this.id===Vt?bl(t):[]}function rc(t){const n=$(t);if(n<Ml){const{isoYear:i}=t;return i<1?["japanese-inverse",1-i]:["japanese",i]}const e=Ir(Zo(Vt),n),{era:r,eraYear:o}=Bs(e,Vt);return[r,o]}function Ce(t){return on(t),Sn(t,1),t}function on(t){return Ci(t,1),t}function Oi(t){return ci(Oo,t,Ci(t))}function Ci(t,n){const{isoYear:e}=t,r=q(t,"isoMonth",1,Mi(),n);return{isoYear:e,isoMonth:r,isoDay:q(t,"isoDay",1,bi(e,r),n)}}function Sn(t,n){return wn(dt,[q(t,"isoHour",0,23,n),q(t,"isoMinute",0,59,n),q(t,"isoSecond",0,59,n),q(t,"isoMillisecond",0,999,n),q(t,"isoMicrosecond",0,999,n),q(t,"isoNanosecond",0,999,n)])}function D(t){return t===void 0?0:Sa(Wn(t))}function Re(t,n=0){t=pt(t);const e=Ma(t),r=kl(t,n);return[Sa(t),r,e]}function Mn(t,n,e,r=9,o=0,i=4){n=pt(n);let s=Ea(n,r,o),a=Rr(n),c=le(n,i);const u=ue(n,r,o,1);return s==null?s=Math.max(e,u):_i(s,u),a=Nr(a,u,1),t&&(c=(l=>l<4?(l+2)%4:l)(c)),[s,u,a,c]}function Ne(t,n=6,e){let r=Rr(t=ze(t,or));const o=le(t,7);let i=ue(t,n);return i=hi(or,i),r=Nr(r,i,void 0,e),[i,r,o]}function Or(t){return _o(pt(t))}function Ri(t,n){return Cr(pt(t),n)}function oc(t){const n=ze(t,zo),e=Bt(zo,zl,n,0);if(!e)throw new RangeError(Ut(zo,e));return e}function Cr(t,n=4){const e=zi(t);return[le(t,4),...Ni(ue(t,n),e)]}function Ni(t,n){return t!=null?[yt[t],t<4?9-3*t:-1]:[n===void 0?1:10**(9-n),n]}function Rr(t){const n=t[ce];return n===void 0?1:L(n,ce)}function Nr(t,n,e,r){const o=r?R:yt[n+1];if(o){const i=yt[n];if(o%((t=St(ce,t,1,o/i-(r?0:1),1))*i))throw new RangeError(Ut(ce,t))}else t=St(ce,t,1,e?10**9:1,1);return t}function zi(t){let n=t[No];if(n!==void 0){if(typeof n!="number"){if(gr(n)==="auto")return;throw new RangeError(Ut(No,n))}n=St(No,Math.floor(n),0,9,1)}return n}function pt(t){return t===void 0?{}:Wn(t)}function ze(t,n){return typeof t=="string"?{[n]:t}:Wn(t)}function _e(t){return{overflow:Il[t]}}function zr(t,n,e=9,r=0,o){let i=n[t];if(i===void 0)return o?r:void 0;if(i=gr(i),i==="auto")return o?r:null;let s=go[i];if(s===void 0&&(s=pl[i]),s===void 0)throw new RangeError(Ks(t,i,go));return St(t,s,r,e,1,wo),s}function Bt(t,n,e,r=0){const o=e[t];if(o===void 0)return r;const i=gr(o),s=n[i];if(s===void 0)throw new RangeError(Ks(t,i,n));return s}function _i(t,n){if(n>t)throw new RangeError(ol)}function Tt(t){return{branding:xo,epochNanoseconds:t}}function ct(t,n,e){return{branding:Ht,calendar:e,timeZone:n,epochNanoseconds:t}}function ut(t,n=t.calendar){return{branding:_n,calendar:n,...st(gl,t)}}function Dt(t,n=t.calendar){return{branding:de,calendar:n,...st(Co,t)}}function Vn(t,n=t.calendar){return{branding:ko,calendar:n,...st(Co,t)}}function ke(t,n=t.calendar){return{branding:Po,calendar:n,...st(Co,t)}}function gt(t){return{branding:Fo,...st(pa,t)}}function F(t){return{branding:Bo,sign:At(t),...st(Io,t)}}function _r(t){return Sr(t.epochNanoseconds,Ct)[0]}function ic(t){return((n,e=1)=>{const[r,o]=n,i=Math.floor(o/e),s=R/e;return BigInt(r)*BigInt(s)+BigInt(i)})(t.epochNanoseconds)}function ki(t){return t.epochNanoseconds}function sc(t,n,e,r,o){const i=un(r),[s,a]=((y,v)=>{const E=v((y=ze(y,Ro))[ya]);let M=_l(y);return M=hi(Ro,M),[M,E]})(o,t),c=Math.max(s,i);if(!a&&Xn(c,a))return Pi(r,s);if(!a)throw new RangeError(tr);if(!r.sign)return 0;const[u,l,f]=Ae(n,e,a),h=Lr(f),m=Ze(f),p=$r(f),w=m(l,u,r);In(a)||(H(u),H(w));const g=p(l,u,w,s);return Xn(s,a)?Pi(g,s):((y,v,E,M,C,N,_)=>{const P=At(y),[k,pn]=kr(M,Do(E,y),E,P,C,N,_),en=Pr(v,k,pn);return y[O[E]]+en*P})(g,h(w),s,l,u,h,m)}function Pi(t,n){return ht(Y(t),yt[n],1)}function kr(t,n,e,r,o,i,s){const a=O[e],c={...n,[a]:n[a]+r},u=s(t,o,n),l=s(t,o,c);return[i(u),i(l)]}function Pr(t,n,e){const r=ht(ft(n,e));if(!r)throw new RangeError(Rn);return ht(ft(n,t))/r}function ac(t,n){const[e,r,o]=Ne(n,5,1);return Tt(xe(t.epochNanoseconds,e,r,o,1))}function cc(t,n,e){let{epochNanoseconds:r,timeZone:o,calendar:i}=n;const[s,a,c]=Ne(e);if(s===0&&a===1)return n;const u=t(o);if(s===6)r=((l,f,h,m)=>{const p=rt(h,f),[w,g]=l(p),y=h.epochNanoseconds,v=jt(f,w),E=jt(f,g);if(yi(y,v,E))throw new RangeError(Rn);return ji(Pr(y,v,E),m)?E:v})(Bi,u,n,c);else{const l=u.R(r);r=bn(u,Fi(En(r,l),s,a,c),l,2,0,1)}return ct(r,o,i)}function uc(t,n){return ut(Fi(t,...Ne(n)),t.calendar)}function lc(t,n){const[e,r,o]=Ne(n,5);var i;return gt((i=o,Fr(t,Gn(e,r),i)[0]))}function dc(t,n){const e=t(n.timeZone),r=rt(n,e),[o,i]=Bi(r),s=ht(ft(jt(e,o),jt(e,i)),er,1);if(s<=0)throw new RangeError(Rn);return s}function fc(t,n){const{timeZone:e,calendar:r}=n,o=((i,s,a)=>jt(s,i(rt(a,s))))(Yi,t(e),n);return ct(o,e,r)}function Fi(t,n,e,r){return xi(t,Gn(n,e),r)}function xi(t,n,e){const[r,o]=Fr(t,n,e);return H({...an(t,o),...r})}function Fr(t,n,e){return Te(Yt(xt(t),n,e))}function Pe(t){return Yt(t,nr,7)}function Gn(t,n){return yt[t]*n}function Bi(t){const n=Yi(t);return[n,an(n,1)]}function Yi(t){return wl(6,t)}function hc(t,n,e){const r=Math.min(un(t),6);return Tn(Be(Y(t,r),n,e),r)}function Fe(t,n,e,r,o,i,s,a,c,u){if(r===0&&o===1)return t;const l=Xn(r,a)?In(a)&&r<6&&e>=6?pc:mc:gc;let[f,h,m]=l(t,n,e,r,o,i,s,a,c,u);return m&&r!==7&&(f=((p,w,g,y,v,E,M,C)=>{const N=At(p);for(let _=y+1;_<=g;_++){if(_===7&&g!==7)continue;const P=Do(_,p);P[O[_]]+=N;const k=ht(ft(M(C(v,E,P)),w));if(k&&Math.sign(k)!==N)break;p=P}return p})(f,h,e,Math.max(6,r),s,a,c,u)),f}function xe(t,n,e,r,o){if(n===6){const i=(s=>s[0]+s[1]/R)(t);return[Yt(i,e,r),0]}return Be(t,Gn(n,e),r,o)}function Be(t,n,e,r){let[o,i]=t;r&&i<0&&(i+=R,o-=1);const[s,a]=bt(Yt(i,n,e),R);return vr(o+s,a)}function Yt(t,n,e){return ji(t/n,e)*n}function ji(t,n){return xl[n](t)}function mc(t,n,e,r,o,i){const s=At(t),a=Y(t),c=xe(a,r,o,i),u=ft(a,c),l=Math.sign(c[0]-a[0])===s,f=Tn(c,Math.min(e,6));return[{...t,...f},yn(n,u),l]}function pc(t,n,e,r,o,i,s,a,c,u){const l=At(t)||1,f=ht(Y(t,5)),h=Gn(r,o);let m=Yt(f,h,i);const[p,w]=kr(s,{...t,...To},6,l,a,c,u),g=m-ht(ft(p,w));let y=0;g&&Math.sign(g)!==l?n=rn(p,m):(y+=l,m=Yt(g,h,i),n=rn(w,m));const v=Le(m);return[{...t,...v,days:t.days+y},n,!!y]}function gc(t,n,e,r,o,i,s,a,c,u){const l=At(t),f=O[r],h=Do(r,t);r===7&&(t={...t,weeks:t.weeks+Math.trunc(t.days/7)});const m=Ee(t[f],o)*o;h[f]=m;const[p,w]=kr(s,h,r,o*l,a,c,u),g=m+Pr(n,p,w)*l*o,y=Yt(g,o,i),v=Math.sign(y-g)===l;return h[f]=y,[h,v?w:p,v]}function Ai(t,n,e,r){const[o,i,s,a]=(u=>{const l=Cr(u=pt(u));return[u.timeZone,...l]})(r),c=o!==void 0;return((u,l,f,h,m,p)=>{f=Be(f,m,h,1);const w=l.R(f);return Br(En(f,w),p)+(u?qn(Pe(w)):"Z")})(c,n(c?t(o):hn),e.epochNanoseconds,i,s,a)}function Zi(t,n,e){const[r,o,i,s,a,c]=(u=>{u=pt(u);const l=_o(u),f=zi(u),h=Fl(u),m=le(u,4),p=ue(u,4);return[l,Pl(u),h,m,...Ni(p,f)]})(e);return((u,l,f,h,m,p,w,g,y,v)=>{h=Be(h,y,g,1);const E=u(f).R(h);return Br(En(h,E),v)+qn(Pe(E),w)+((M,C)=>C!==1?"["+(C===2?"!":"")+M+"]":"")(f,p)+Yr(l,m)})(t,n.calendar,n.timeZone,n.epochNanoseconds,r,o,i,s,a,c)}function Li(t,n){const[e,r,o,i]=(u=>(u=pt(u),[_o(u),...Cr(u)]))(n);return s=t.calendar,a=e,c=i,Br(xi(t,o,r),c)+Yr(s,a);var s,a,c}function $i(t,n){return e=t.calendar,r=t,o=Or(n),Ye(r)+Yr(e,o);var e,r,o}function Ui(t,n){return Gi(t.calendar,Hi,t,Or(n))}function Wi(t,n){return Gi(t.calendar,wc,t,Or(n))}function Vi(t,n){const[e,r,o]=Ri(n);return i=o,Ji(Fr(t,r,e)[0],i);var i}function xr(t,n){const[e,r,o]=Ri(n,3);return r>1&&cn(t={...t,...hc(t,r,e)}),((i,s)=>{const{sign:a}=i,c=a===-1?U(i):i,{hours:u,minutes:l}=c,[f,h]=Sr(Y(c,3),wt,Ft);as(f);const m=jr(h,s),p=s>=0||!a||m;return(a<0?"-":"")+"P"+qi({Y:sn(c.years),M:sn(c.months),W:sn(c.weeks),D:sn(c.days)})+(u||l||f||p?"T"+qi({H:sn(u),M:sn(l),S:sn(f,p)+m}):"")})(t,o)}function Gi(t,n,e,r){const o=r>1||r===0&&t!==T;return r===1?t===T?n(e):Ye(e):o?Ye(e)+Xi(t,r===2):n(e)}function qi(t){const n=[];for(const e in t){const r=t[e];r&&n.push(r,e)}return n.join("")}function Br(t,n){return Ye(t)+"T"+Ji(t,n)}function Ye(t){return Hi(t)+"-"+lt(t.isoDay)}function Hi(t){const{isoYear:n}=t;return(n<0||n>9999?Ki(n)+ve(6,Math.abs(n)):ve(4,n))+"-"+lt(t.isoMonth)}function wc(t){return lt(t.isoMonth)+"-"+lt(t.isoDay)}function Ji(t,n){const e=[lt(t.isoHour),lt(t.isoMinute)];return n!==-1&&e.push(lt(t.isoSecond)+((r,o,i,s)=>jr(r*Ct+o*oe+i,s))(t.isoMillisecond,t.isoMicrosecond,t.isoNanosecond,n)),e.join(":")}function qn(t,n=0){if(n===1)return"";const[e,r]=bt(Math.abs(t),er),[o,i]=bt(r,nr),[s,a]=bt(i,wt);return Ki(t)+lt(e)+":"+lt(o)+(s||a?":"+lt(s)+jr(a):"")}function Yr(t,n){return n!==1&&(n>1||n===0&&t!==T)?Xi(t,n===2):""}function Xi(t,n){return"["+(n?"!":"")+"u-ca="+t+"]"}function jr(t,n){let e=ve(9,t);return e=n===void 0?e.replace(jl,""):e.slice(0,n),e?"."+e:""}function Ki(t){return t<0?"-":"+"}function sn(t,n){return t||n?t.toLocaleString("fullwide",{useGrouping:0}):""}function yc(t,n){const{epochNanoseconds:e}=t,r=(n.R?n:n(t.timeZone)).R(e),o=En(e,r);return{calendar:t.calendar,...o,offsetNanoseconds:r}}function bn(t,n,e,r=0,o=0,i,s){if(e!==void 0&&r===1&&(r===1||s))return br(n,e);const a=t.I(n);if(e!==void 0&&r!==3){const c=((u,l,f,h)=>{const m=B(l);h&&(f=Pe(f));for(const p of u){let w=ht(ft(p,m));if(h&&(w=Pe(w)),w===f)return p}})(a,n,e,i);if(c!==void 0)return c;if(r===0)throw new RangeError(Ku)}return s?B(n):Hn(t,n,o,a)}function Hn(t,n,e=0,r=t.I(n)){if(r.length===1)return r[0];if(e===1)throw new RangeError(Qu);if(r.length)return r[e===3?1:0];const o=B(n),i=((a,c)=>{const u=a.R(rn(c,-864e11));return(l=>{if(l>R)throw new RangeError(Xu);return l})(a.R(rn(c,R))-u)})(t,o),s=i*(e===2?-1:1);return(r=t.I(En(o,s)))[e===2?0:r.length-1]}function jt(t,n){const e=t.I(n);if(e.length)return e[0];const r=rn(B(n),-864e11);return t.O(r,1)}function Qi(t,n,e){return Tt(mt(yn(n.epochNanoseconds,(r=>{if(cs(r))throw new RangeError(el);return Y(r,5)})(t?U(e):e))))}function ts(t,n,e,r,o,i=Object.create(null)){const s=n(r.timeZone),a=t(r.calendar);return{...r,...Ar(s,a,r,e?U(o):o,i)}}function ns(t,n,e,r,o=Object.create(null)){const{calendar:i}=e;return ut(Zr(t(i),e,n?U(r):r,o),i)}function es(t,n,e,r,o){const{calendar:i}=e;return Dt(je(t(i),e,n?U(r):r,o),i)}function rs(t,n,e,r,o){const i=e.calendar,s=t(i);let a=at(Jn(s,e));n&&(r=Ur(r)),r.sign<0&&(a=s.P(a,{...j,months:1}),a=an(a,-1));const c=s.P(a,r,o);return Vn(Jn(s,c),i)}function os(t,n,e){return gt(is(n,t?U(e):e)[0])}function Ar(t,n,e,r,o){const i=Y(r,5);let s=e.epochNanoseconds;if(cs(r)){const a=rt(e,t);s=yn(Hn(t,{...je(n,a,{...r,...To},o),...st(dt,a)}),i)}else s=yn(s,i),D(o);return{epochNanoseconds:mt(s)}}function Zr(t,n,e,r){const[o,i]=is(n,e);return H({...je(t,n,{...e,...To,days:e.days+i},r),...o})}function je(t,n,e,r){if(e.years||e.months||e.weeks)return t.P(n,e,r);D(r);const o=e.days+Y(e,5)[0];return o?at(an(n,o)):n}function Jn(t,n,e=1){return an(n,e-t.day(n))}function is(t,n){const[e,r]=Y(n,5),[o,i]=Te(xt(t)+r);return[o,e+i]}function an(t,n){return n?{...t,...Oe($(t)+n*X)}:t}function Ae(t,n,e){const r=t(e.calendar);return In(e)?[e,r,n(e.timeZone)]:[{...e,...K},r]}function Lr(t){return t?ki:B}function Ze(t){return t?I(Ar,t):Zr}function $r(t){return t?I(Lc,t):$c}function In(t){return t&&t.epochNanoseconds}function Xn(t,n){return t<=6-(In(n)?1:0)}function ss(t,n,e,r,o,i,s){const a=t(pt(s).relativeTo),c=Math.max(un(o),un(i));if(Xn(c,a))return F(cn(((w,g,y,v)=>{const E=yn(Y(w),Y(g),v?-1:1);if(!Number.isFinite(E[0]))throw new RangeError(Wt);return{...j,...Tn(E,y)}})(o,i,c,r)));if(!a)throw new RangeError(tr);r&&(i=U(i));const[u,l,f]=Ae(n,e,a),h=Ze(f),m=$r(f),p=h(l,u,o);return F(m(l,u,h(l,p,i),c))}function vc(t,n,e,r,o){const i=un(r),[s,a,c,u,l]=((N,_,P)=>{N=ze(N,or);let k=Ea(N);const pn=P(N[ya]);let en=Rr(N);const Pf=le(N,7);let kt=ue(N);if(k===void 0&&kt===void 0)throw new RangeError(rl);if(kt==null&&(kt=0),k==null&&(k=Math.max(kt,_)),_i(k,kt),en=Nr(en,kt,1),en>1&&kt>5&&k!==kt)throw new RangeError("For calendar units with roundingIncrement > 1, use largestUnit = smallestUnit");return[k,kt,en,Pf,pn]})(o,i,t),f=Math.max(i,s);if(!l&&f<=6)return F(cn(((N,_,P,k,pn)=>{const en=xe(Y(N),P,k,pn);return{...j,...Tn(en,_)}})(r,s,a,c,u)));if(!In(l)&&!r.sign)return r;if(!l)throw new RangeError(tr);const[h,m,p]=Ae(n,e,l),w=Lr(p),g=Ze(p),y=$r(p),v=g(m,h,r);In(l)||(H(h),H(v));let E=y(m,h,v,s);const M=r.sign,C=At(E);if(M&&C&&M!==C)throw new RangeError(Rn);return E=Fe(E,w(v),s,a,c,u,m,h,w,g),F(E)}function Ec(t){return t.sign===-1?Ur(t):t}function Ur(t){return F(U(t))}function U(t){const n={};for(const e of O)n[e]=-1*t[e]||0;return n}function Sc(t){return!t.sign}function At(t,n=O){let e=0;for(const r of n){const o=Math.sign(t[r]);if(o){if(e&&e!==o)throw new RangeError(nl);e=o}}return e}function cn(t){for(const n of ml)St(n,t[n],-4294967295,Al,1);return as(ht(Y(t),wt)),t}function as(t){if(!Number.isSafeInteger(t))throw new RangeError(tl)}function Y(t,n=6){return di(t,n,O)}function Tn(t,n=6){const[e,r]=t,o=Me(r,n,O);if(o[O[n]]+=e*(R/yt[n]),!Number.isFinite(o[O[n]]))throw new RangeError(Wt);return o}function Le(t,n=5){return Me(t,n,O)}function cs(t){return!!At(t,ma)}function un(t){let n=9;for(;n>0&&!t[O[n]];n--);return n}function Mc(t,n){return[t,n]}function us(t){const n=Math.floor(t/ir)*ir;return[n,n+ir]}function bc(t){const n=Zt(t=be(t));if(!n)throw new RangeError(J(t));let e;if(n.j)e=0;else{if(!n.offset)throw new RangeError(J(t));e=ln(n.offset)}return n.timeZone&&Hr(n.timeZone,1),Tt(br(Ce(n),e))}function Ic(t){const n=Zt(A(t));if(!n)throw new RangeError(J(t));if(n.timeZone)return ls(n,n.offset?ln(n.offset):void 0);if(n.j)throw new RangeError(J(t));return fs(n)}function Tc(t,n){const e=Zt(A(t));if(!e||!e.timeZone)throw new RangeError(J(t));const{offset:r}=e,o=r?ln(r):void 0,[,i,s]=Re(n);return ls(e,o,i,s)}function ln(t){const n=Hr(t);if(n===void 0)throw new RangeError(J(t));return n}function Dc(t){const n=Zt(A(t));if(!n||n.j)throw new RangeError(J(t));return ut(ds(n))}function Wr(t,n,e){let r=Zt(A(t));if(!r||r.j)throw new RangeError(J(t));return n?r.calendar===T&&(r=r.isoYear===-271821&&r.isoMonth===4?{...r,isoDay:20,...K}:{...r,isoDay:1,...K}):e&&r.calendar===T&&(r={...r,isoYear:zt}),Dt(r.C?ds(r):fs(r))}function Oc(t,n){const e=Gr(A(n));if(e)return Vr(e),Vn(Mr(on(e)));const r=Wr(n,1);return Vn(Jn(t(r.calendar),r))}function Vr(t){if(t.calendar!==T)throw new RangeError(Ot(t.calendar))}function Cc(t,n){const e=qr(A(n));if(e)return Vr(e),ke(on(e));const r=Wr(n,0,1),{calendar:o}=r,i=t(o),[s,a,c]=i.v(r),[u,l]=i.q(s,a),[f,h]=i.G(u,l,c);return ke(at(i.V(f,h,c)),o)}function Rc(t){let n,e=(r=>{const o=Gl.exec(r);return o?($e(o[10]),ps(o)):void 0})(A(t));if(!e){if(e=Zt(t),!e)throw new RangeError(J(t));if(!e.C)throw new RangeError(J(t));if(e.j)throw new RangeError(Ot("Z"));Vr(e)}if((n=Gr(t))&&Oi(n))throw new RangeError(J(t));if((n=qr(t))&&Oi(n))throw new RangeError(J(t));return gt(Sn(e,1))}function Nc(t){const n=(e=>{const r=Jl.exec(e);return r?(o=>{function i(l,f,h){let m=0,p=0;if(h&&([m,c]=bt(c,yt[h])),l!==void 0){if(a)throw new RangeError(Ot(l));p=(w=>{const g=parseInt(w);if(!Number.isFinite(g))throw new RangeError(Ot(w));return g})(l),s=1,f&&(c=Jr(f)*(yt[h]/wt),a=1)}return m+p}let s=0,a=0,c=0,u={...wn(O,[i(o[2]),i(o[3]),i(o[4]),i(o[5]),i(o[6],o[7],5),i(o[8],o[9],4),i(o[10],o[11],3)]),...Me(c,2,O)};if(!s)throw new RangeError(Xs(O));return Xr(o[1])<0&&(u=U(u)),u})(r):void 0})(A(t));if(!n)throw new RangeError(J(t));return F(cn(n))}function zc(t){const n=Zt(t)||Gr(t)||qr(t);return n?n.calendar:t}function _c(t){const n=Zt(t);return n&&(n.timeZone||n.j&&hn||n.offset)||t}function ls(t,n,e=0,r=0){const o=Kr(t.timeZone),i=b(o);let s;return Ce(t),s=t.C?bn(i,t,n,e,r,!i.$,t.j):jt(i,t),ct(s,o,Ke(t.calendar))}function ds(t){return hs(H(Ce(t)))}function fs(t){return hs(at(on(t)))}function hs(t){return{...t,calendar:Ke(t.calendar)}}function Zt(t){const n=Vl.exec(t);return n?(e=>{const r=e[10],o=(r||"").toUpperCase()==="Z";return{isoYear:ms(e),isoMonth:parseInt(e[4]),isoDay:parseInt(e[5]),...ps(e.slice(5)),...$e(e[16]),C:!!e[6],j:o,offset:o?void 0:r}})(n):void 0}function Gr(t){const n=Ul.exec(t);return n?(e=>({isoYear:ms(e),isoMonth:parseInt(e[4]),isoDay:1,...$e(e[5])}))(n):void 0}function qr(t){const n=Wl.exec(t);return n?(e=>({isoYear:zt,isoMonth:parseInt(e[1]),isoDay:parseInt(e[2]),...$e(e[3])}))(n):void 0}function Hr(t,n){const e=ql.exec(t);return e?((r,o)=>{const i=r[4]||r[5];if(o&&i)throw new RangeError(Ot(i));return(s=>{if(Math.abs(s)>=R)throw new RangeError(Ju);return s})((On(r[2])*er+On(r[3])*nr+On(r[4])*wt+Jr(r[5]||""))*Xr(r[1]))})(e,n):void 0}function ms(t){const n=Xr(t[1]),e=parseInt(t[2]||t[3]);if(n<0&&!e)throw new RangeError(Ot(-0));return n*e}function ps(t){const n=On(t[3]);return{...Te(Jr(t[4]||""))[0],isoHour:On(t[1]),isoMinute:On(t[2]),isoSecond:n===60?59:n}}function $e(t){let n,e;const r=[];if(t.replace(Hl,(o,i,s)=>{const a=!!i,[c,u]=s.split("=").reverse();if(u){if(u==="u-ca")r.push(c),n||(n=a);else if(a||/[A-Z]/.test(u))throw new RangeError(Ot(o))}else{if(e)throw new RangeError(Ot(o));e=c}return""}),r.length>1&&n)throw new RangeError(Ot(t));return{timeZone:e,calendar:r[0]||T}}function Jr(t){return parseInt(t.padEnd(9,"0"))}function Dn(t){return new RegExp(`^${t}$`,"i")}function Xr(t){return t&&t!=="+"?-1:1}function On(t){return t===void 0?0:parseInt(t)}function kc(t){return Kr(A(t))}function Kr(t){const n=Qr(t);return typeof n=="number"?qn(n):n?(e=>{if(Ql.test(e))throw new RangeError(ea(e));if(Kl.test(e))throw new RangeError(Hu);return e.toLowerCase().split("/").map((r,o)=>(r.length<=3||/\d/.test(r))&&!/etc|yap/.test(r)?r.toUpperCase():r.replace(/baja|dumont|[a-z]+/g,(i,s)=>i.length<=2&&!o||i==="in"||i==="chat"?i.toUpperCase():i.length>2||!s?li(i).replace(/island|noronha|murdo|rivadavia|urville/,li):i)).join("/")})(t):hn}function gs(t){const n=Qr(t);return typeof n=="number"?n:n?n.resolvedOptions().timeZone:hn}function Qr(t){const n=Hr(t=t.toUpperCase(),1);return n!==void 0?n:t!==hn?Xl(t):void 0}function ws(t,n){return nt(t.epochNanoseconds,n.epochNanoseconds)}function ys(t,n){return nt(t.epochNanoseconds,n.epochNanoseconds)}function Pc(t,n,e,r,o,i){const s=t(pt(i).relativeTo),a=Math.max(un(r),un(o));if(ci(O,r,o))return 0;if(Xn(a,s))return nt(Y(r),Y(o));if(!s)throw new RangeError(tr);const[c,u,l]=Ae(n,e,s),f=Lr(l),h=Ze(l);return nt(f(h(u,c,r)),f(h(u,c,o)))}function vs(t,n){return Cn(t,n)||to(t,n)}function Cn(t,n){return Pt($(t),$(n))}function to(t,n){return Pt(xt(t),xt(n))}function Fc(t,n){return!ws(t,n)}function xc(t,n){return!ys(t,n)&&!!Es(t.timeZone,n.timeZone)&&t.calendar===n.calendar}function Bc(t,n){return!vs(t,n)&&t.calendar===n.calendar}function Yc(t,n){return!Cn(t,n)&&t.calendar===n.calendar}function jc(t,n){return!Cn(t,n)&&t.calendar===n.calendar}function Ac(t,n){return!Cn(t,n)&&t.calendar===n.calendar}function Zc(t,n){return!to(t,n)}function Es(t,n){if(t===n)return 1;try{return gs(t)===gs(n)}catch{}}function Ss(t,n,e,r){const o=Mn(t,r,3,5),i=Ue(n.epochNanoseconds,e.epochNanoseconds,...o);return F(t?U(i):i)}function Ms(t,n,e,r,o,i){const s=Ve(r.calendar,o.calendar),[a,c,u,l]=Mn(e,i,5),f=r.epochNanoseconds,h=o.epochNanoseconds,m=nt(h,f);let p;if(m)if(a<6)p=Ue(f,h,a,c,u,l);else{const w=n(((y,v)=>{if(!Es(y,v))throw new RangeError(ra);return y})(r.timeZone,o.timeZone)),g=t(s);p=Cs(g,w,r,o,m,a,i),p=Fe(p,h,a,c,u,l,g,r,ki,I(Ar,w))}else p=j;return F(e?U(p):p)}function bs(t,n,e,r,o){const i=Ve(e.calendar,r.calendar),[s,a,c,u]=Mn(n,o,6),l=B(e),f=B(r),h=nt(f,l);let m;if(h)if(s<=6)m=Ue(l,f,s,a,c,u);else{const p=t(i);m=Rs(p,e,r,h,s,o),m=Fe(m,f,s,a,c,u,p,e,B,Zr)}else m=j;return F(n?U(m):m)}function Is(t,n,e,r,o){const i=Ve(e.calendar,r.calendar);return Ds(n,()=>t(i),e,r,...Mn(n,o,6,9,6))}function Ts(t,n,e,r,o){const i=Ve(e.calendar,r.calendar),s=Mn(n,o,9,9,8),a=t(i),c=Jn(a,e),u=Jn(a,r);return c.isoYear===u.isoYear&&c.isoMonth===u.isoMonth&&c.isoDay===u.isoDay?F(j):Ds(n,()=>a,at(c),at(u),...s,8)}function Ds(t,n,e,r,o,i,s,a,c=6){const u=B(e),l=B(r);if(u===void 0||l===void 0)throw new RangeError(Wt);let f;if(nt(l,u))if(o===6)f=Ue(u,l,o,i,s,a);else{const h=n();f=h.N(e,r,o),i===c&&s===1||(f=Fe(f,l,o,i,s,a,h,e,B,je))}else f=j;return F(t?U(f):f)}function Os(t,n,e,r){const[o,i,s,a]=Mn(t,r,5,5),c=Yt(no(n,e),Gn(i,s),a),u={...j,...Le(c,o)};return F(t?U(u):u)}function Lc(t,n,e,r,o,i){const s=nt(r.epochNanoseconds,e.epochNanoseconds);return s?o<6?Ns(e.epochNanoseconds,r.epochNanoseconds,o):Cs(n,t,e,r,s,o,i):j}function $c(t,n,e,r,o){const i=B(n),s=B(e),a=nt(s,i);return a?r<=6?Ns(i,s,r):Rs(t,n,e,a,r,o):j}function Cs(t,n,e,r,o,i,s){const[a,c,u]=((h,m,p,w)=>{function g(){return _={...an(E,C++*-w),...v},P=Hn(h,_),nt(M,P)===-w}const y=rt(m,h),v=st(dt,y),E=rt(p,h),M=p.epochNanoseconds;let C=0;const N=no(y,E);let _,P;if(Math.sign(N)===-w&&C++,g()&&(w===-1||g()))throw new RangeError(Rn);const k=ht(ft(P,M));return[y,_,k]})(n,e,r,o);var l,f;return{...i===6?(l=a,f=c,{...j,days:zs(l,f)}):t.N(a,c,i,s),...Le(u)}}function Rs(t,n,e,r,o,i){const[s,a,c]=((u,l,f)=>{let h=l,m=no(u,l);return Math.sign(m)===-f&&(h=an(l,-f),m+=R*f),[u,h,m]})(n,e,r);return{...t.N(s,a,o,i),...Le(c)}}function Ue(t,n,e,r,o,i){return{...j,...Tn(xe(ft(t,n),r,o,i),e)}}function Ns(t,n,e){return{...j,...Tn(ft(t,n),e)}}function zs(t,n){return We($(t),$(n))}function We(t,n){return Math.trunc((n-t)/X)}function no(t,n){return xt(n)-xt(t)}function Ve(t,n){if(t!==n)throw new RangeError(na);return t}function _s(t){return this.m(t)[0]}function ks(t){return this.m(t)[1]}function eo(t){const[n]=this.v(t);return We(this.p(n),$(t))+1}function ro(t){const n=td.exec(t);if(!n)throw new RangeError(Gu(t));return[parseInt(n[1]),!!n[2]]}function Kn(t,n){return"M"+lt(t)+(n?"L":"")}function Ge(t,n,e){return t+(n||e&&t>=e?1:0)}function oo(t,n){return t-(n&&t>=n?1:0)}function Ps(t,n){return(n+t)*(Math.sign(n)||1)||0}function io(t){return fa[xs(t)]}function Fs(t){return ll[xs(t)]}function xs(t){return dn(t.id||T)}function Uc(t){function n(o){return((i,s)=>({...Bs(i,s),o:i.month,day:parseInt(i.day)}))(Ir(e,o),r)}const e=Zo(t),r=dn(t);return{id:t,h:Wc(n),l:Vc(n)}}function Wc(t){return tt(n=>{const e=$(n);return t(e)},WeakMap)}function Vc(t){const n=t(0).year-Sl;return tt(e=>{let r,o=vn(e-n),i=0;const s=[],a=[];do o+=400*X;while((r=t(o)).year<=e);do if(o+=(1-r.day)*X,r.year===e&&(s.push(o),a.push(r.o)),o-=X,++i>100||o<-864e13)throw new RangeError(Rn);while((r=t(o)).year>=e);return{i:s.reverse(),u:oa(a.reverse())}})}function Bs(t,n){let e,r,o=Ys(t);if(t.era){const i=fa[n],s=ha[n]||{};i!==void 0&&(e=n==="islamic"?"ah":t.era.normalize("NFD").toLowerCase().replace(/[^a-z0-9]/g,""),e==="bc"||e==="b"?e="bce":e==="ad"||e==="a"?e="ce":e==="beforeroc"&&(e="broc"),e=s[e]||e,r=o,o=Ps(r,i[e]||0))}return{era:e,eraYear:r,year:o}}function Ys(t){return parseInt(t.relatedYear||t.year)}function qe(t){const{year:n,o:e,day:r}=this.h(t),{u:o}=this.l(n);return[n,o[e]+1,r]}function Qn(t,n=1,e=1){return this.l(t).i[n-1]+(e-1)*X}function js(t,n){const e=He.call(this,t);return[oo(n,e),e===n]}function He(t){const n=Ls(this,t),e=Ls(this,t-1),r=n.length;if(r>e.length){const o=Fs(this);if(o<0)return-o;for(let i=0;i<r;i++)if(n[i]!==e[i])return i+1}}function Je(t){return We(Qn.call(this,t),Qn.call(this,t+1))}function As(t,n){const{i:e}=this.l(t);let r=n+1,o=e;return r>e.length&&(r=1,o=this.l(t+1).i),We(e[n-1],o[r-1])}function Xe(t){return this.l(t).i.length}function Zs(t){const n=this.h(t);return[n.era,n.eraYear]}function Ls(t,n){return Object.keys(t.l(n).u)}function te(t){return Ke(A(t))}function Ke(t){if((t=t.toLowerCase())!==T&&t!==zn){const n=Zo(t).resolvedOptions().calendar;if(dn(t)!==dn(n))throw new RangeError(ta(t));return n}return t}function dn(t){return t==="islamicc"&&(t="islamic"),t.split("-")[0]}function $s(t,n){return e=>e===T?t:e===zn||e===Vt?Object.assign(Object.create(t),{id:e}):Object.assign(Object.create(n),nd(e))}function Gc(t,n,e,r){const o=Lt(e,r,Nt,[],ca);if(o.timeZone!==void 0){const i=e.F(o),s=ne(o),a=t(o.timeZone);return{epochNanoseconds:bn(n(a),{...i,...s},o.offset!==void 0?ln(o.offset):void 0),timeZone:a}}return{...e.F(o),...K}}function qc(t,n,e,r,o,i){const s=Lt(e,o,Nt,sa,ca),a=t(s.timeZone),[c,u,l]=Re(i),f=e.F(s,_e(c)),h=ne(s,c);return ct(bn(n(a),{...f,...h},s.offset!==void 0?ln(s.offset):void 0,u,l),a,r)}function Hc(t,n,e){const r=Lt(t,n,Nt,[],Rt),o=D(e);return ut(H({...t.F(r,_e(o)),...ne(r,o)}))}function Jc(t,n,e,r=[]){const o=Lt(t,n,Nt,r);return t.F(o,e)}function Xc(t,n,e,r){const o=Lt(t,n,bo,r);return t.K(o,e)}function Kc(t,n,e,r){const o=Lt(t,e,Nt,ie);return n&&o.month!==void 0&&o.monthCode===void 0&&o.year===void 0&&(o.year=zt),t._(o,r)}function Qc(t,n){return gt(ne(et(t,yo,[],1),D(n)))}function tu(t){const n=et(t,Io);return F(cn({...j,...n}))}function Lt(t,n,e,r=[],o=[]){return et(n,[...t.fields(e),...o].sort(),r)}function et(t,n,e,r=!e){const o={};let i,s=0;for(const a of n){if(a===i)throw new RangeError(ju(a));if(a==="constructor"||a==="__proto__")throw new RangeError(Yu(a));let c=t[a];if(c!==void 0)s=1,Da[a]&&(c=Da[a](c,a)),o[a]=c;else if(e){if(e.includes(a))throw new TypeError(ho(a));o[a]=da[a]}i=a}if(r&&!s)throw new TypeError(Xs(n));return o}function ne(t,n){return Sn(Lo({...da,...t}),n)}function nu(t,n,e,r,o){const{calendar:i,timeZone:s}=e,a=t(i),c=n(s),u=[...a.fields(Nt),...aa].sort(),l=(y=>{const v=rt(y,b),E=qn(v.offsetNanoseconds),M=cr(y.calendar),[C,N,_]=M.v(v),[P,k]=M.q(C,N),pn=Kn(P,k);return{...ud(v),year:C,monthCode:pn,day:_,offset:E}})(e),f=et(r,u),h=a.k(l,f),m={...l,...f},[p,w,g]=Re(o,2);return ct(bn(c,{...a.F(h,_e(p)),...Sn(Lo(m),p)},ln(m.offset),w,g),s,i)}function eu(t,n,e,r){const o=t(n.calendar),i=[...o.fields(Nt),...Rt].sort(),s={...Ws(a=n),hour:a.isoHour,minute:a.isoMinute,second:a.isoSecond,millisecond:a.isoMillisecond,microsecond:a.isoMicrosecond,nanosecond:a.isoNanosecond};var a;const c=et(e,i),u=D(r),l=o.k(s,c),f={...s,...c};return ut(H({...o.F(l,_e(u)),...Sn(Lo(f),u)}))}function ru(t,n,e,r){const o=t(n.calendar),i=o.fields(Nt).sort(),s=Ws(n),a=et(e,i),c=o.k(s,a);return o.F(c,r)}function ou(t,n,e,r){const o=t(n.calendar),i=o.fields(bo).sort(),s=(u=>{const l=cr(u.calendar),[f,h]=l.v(u),[m,p]=l.q(f,h);return{year:f,monthCode:Kn(m,p)}})(n),a=et(e,i),c=o.k(s,a);return o.K(c,r)}function iu(t,n,e,r){const o=t(n.calendar),i=o.fields(Nt).sort(),s=(u=>{const l=cr(u.calendar),[f,h,m]=l.v(u),[p,w]=l.q(f,h);return{monthCode:Kn(p,w),day:m}})(n),a=et(e,i),c=o.k(s,a);return o._(c,r)}function su(t,n,e){return gt(((r,o,i)=>ne({...st(yo,r),...et(o,yo)},D(i)))(t,n,e))}function au(t,n){return F((e=t,r=n,cn({...e,...et(r,Io)})));var e,r}function Us(t,n,e,r,o){n=st(e=t.fields(e),n),r=et(r,o=t.fields(o),[]);let i=t.k(n,r);return i=et(i,[...e,...o].sort(),[]),t.F(i)}function so(t,n){const e=io(t),r=ha[t.id||""]||{};let{era:o,eraYear:i,year:s}=n;if(o!==void 0||i!==void 0){if(o===void 0||i===void 0)throw new TypeError($u);if(!e)throw new RangeError(Lu);const a=e[r[o]||o];if(a===void 0)throw new RangeError(Wu(o));const c=Ps(i,a);if(s!==void 0&&s!==c)throw new RangeError(Uu);s=c}else if(s===void 0)throw new TypeError(Vu(e));return s}function Qe(t,n,e,r){let{month:o,monthCode:i}=n;if(i!==void 0){const s=((a,c,u,l)=>{const f=a.L(u),[h,m]=ro(c);let p=Ge(h,m,f);if(m){const w=Fs(a);if(w===void 0)throw new RangeError(re);if(w>0){if(p>w)throw new RangeError(re);if(f===void 0){if(l===1)throw new RangeError(re);p--}}else{if(p!==-w)throw new RangeError(re);if(f===void 0&&l===1)throw new RangeError(re)}}return p})(t,i,e,r);if(o!==void 0&&o!==s)throw new RangeError(qu);o=s,r=1}else if(o===void 0)throw new TypeError(Qs);return St("month",o,1,t.B(e),r)}function ao(t,n,e,r,o){return q(n,"day",1,t.U(r,e),o)}function co(t,n,e,r){let o=0;const i=[];for(const s of e)n[s]!==void 0?o=1:i.push(s);if(Object.assign(t,n),o)for(const s of r||i)delete t[s]}function Ws(t){const n=cr(t.calendar),[e,r,o]=n.v(t),[i,s]=n.q(e,r);return{year:e,monthCode:Kn(i,s),day:o}}function cu(t){return Tt(mt(Er(wr(t))))}function uu(t,n,e,r,o=T){return ct(mt(Er(wr(e))),n(r),t(o))}function lu(t,n,e,r,o=0,i=0,s=0,a=0,c=0,u=0,l=T){return ut(H(Ce(Mt(L,wn(rr,[n,e,r,o,i,s,a,c,u])))),t(l))}function du(t,n,e,r,o=T){return Dt(at(on(Mt(L,{isoYear:n,isoMonth:e,isoDay:r}))),t(o))}function fu(t,n,e,r=T,o=1){const i=L(n),s=L(e),a=t(r);return Vn(Mr(on({isoYear:i,isoMonth:s,isoDay:L(o)})),a)}function hu(t,n,e,r=T,o=zt){const i=L(n),s=L(e),a=t(r);return ke(at(on({isoYear:L(o),isoMonth:i,isoDay:s})),a)}function mu(t=0,n=0,e=0,r=0,o=0,i=0){return gt(Sn(Mt(L,wn(dt,[t,n,e,r,o,i])),1))}function pu(t=0,n=0,e=0,r=0,o=0,i=0,s=0,a=0,c=0,u=0){return F(cn(Mt(yr,wn(O,[t,n,e,r,o,i,s,a,c,u]))))}function gu(t,n,e=T){return ct(t.epochNanoseconds,n,e)}function wu(t){return Tt(t.epochNanoseconds)}function Vs(t,n){return ut(rt(n,t))}function Gs(t,n){return Dt(rt(n,t))}function qs(t,n){return gt(rt(n,t))}function yu(t,n,e,r){const o=((i,s,a,c)=>{const u=(l=>Ma(pt(l)))(c);return Hn(i(s),a,u)})(t,e,n,r);return ct(mt(o),e,n.calendar)}function vu(t,n,e,r,o){const i=t(o.timeZone),s=o.plainTime,a=s!==void 0?n(s):void 0,c=e(i);let u;return u=a?Hn(c,{...r,...a}):jt(c,{...r,...K}),ct(u,i,r.calendar)}function Eu(t,n=K){return ut(H({...t,...n}))}function Su(t,n,e){return((r,o)=>{const i=Lt(r,o,ua);return r.K(i,void 0)})(t(n.calendar),e)}function Mu(t,n,e){return((r,o)=>{const i=Lt(r,o,la);return r._(i)})(t(n.calendar),e)}function bu(t,n,e,r){return((o,i,s)=>Us(o,i,ua,Wn(s),ie))(t(n.calendar),e,r)}function Iu(t,n,e,r){return((o,i,s)=>Us(o,i,la,Wn(s),Eo))(t(n.calendar),e,r)}function Tu(t){return Tt(mt(Ie(yr(t),Ct)))}function Du(t){return Tt(mt(Er(wr(t))))}function fn(t,n,e){const r=new Set(e);return(o,i)=>{const s=e&&ai(o,e);if(!ai(o=((a,c)=>{const u={};for(const l in c)a.has(l)||(u[l]=c[l]);return u})(r,o),t)){if(i&&s)throw new TypeError("Invalid formatting options");o={...n,...o}}return e&&(o.timeZone=hn,["full","long"].includes(o.J)&&(o.J="medium")),o}}function $t(t,n=Hs,e=0){const[r,,,o]=t;return(i,s=Cd,...a)=>{const c=n(o&&o(...a),i,s,r,e),u=c.resolvedOptions();return[c,...Ou(t,u,a)]}}function Hs(t,n,e,r,o){if(e=r(e,o),t){if(e.timeZone!==void 0)throw new TypeError(sl);e.timeZone=t}return new Gt(n,e)}function Ou(t,n,e){const[,r,o]=t;return e.map(i=>(i.calendar&&((s,a,c)=>{if((c||s!==T)&&s!==a)throw new RangeError(na)})(i.calendar,n.calendar,o),r(i,n)))}function Cu(t,n,e){const r=n.timeZone,o=t(r),i={...rt(n,o),...e||K};let s;return s=e?bn(o,i,i.offsetNanoseconds,2):jt(o,i),ct(s,r,n.calendar)}function Ru(t,n=K){return ut(H({...t,...n}))}function uo(t,n){return{...t,calendar:n}}function Nu(t,n){return{...t,timeZone:n}}function lo(t){const n=fo();return En(n,t.R(n))}function fo(){return Ie(Date.now(),Ct)}function ee(){return Fa||(Fa=new Gt().resolvedOptions().timeZone)}const zu=(t,n)=>`Non-integer ${t}: ${n}`,_u=(t,n)=>`Non-positive ${t}: ${n}`,ku=(t,n)=>`Non-finite ${t}: ${n}`,Pu=t=>`Cannot convert bigint to ${t}`,Fu=t=>`Invalid bigint: ${t}`,xu="Cannot convert Symbol to string",Bu="Invalid object",Js=(t,n,e,r,o)=>o?Js(t,o[n],o[e],o[r]):Ut(t,n)+`; must be between ${e}-${r}`,Ut=(t,n)=>`Invalid ${t}: ${n}`,ho=t=>`Missing ${t}`,Yu=t=>`Invalid field ${t}`,ju=t=>`Duplicate field ${t}`,Xs=t=>"No valid fields: "+t.join(),Au="Invalid bag",Ks=(t,n,e)=>Ut(t,n)+"; must be "+Object.keys(e).join(),Zu="Cannot use valueOf",mo="Invalid calling context",Lu="Forbidden era/eraYear",$u="Mismatching era/eraYear",Uu="Mismatching year/eraYear",Wu=t=>`Invalid era: ${t}`,Vu=t=>"Missing year"+(t?"/era/eraYear":""),Gu=t=>`Invalid monthCode: ${t}`,qu="Mismatching month/monthCode",Qs="Missing month/monthCode",re="Invalid leap month",Rn="Invalid protocol results",ta=t=>Ut("Calendar",t),na="Mismatching Calendars",ea=t=>Ut("TimeZone",t),ra="Mismatching TimeZones",Hu="Forbidden ICU TimeZone",Ju="Out-of-bounds offset",Xu="Out-of-bounds TimeZone gap",Ku="Invalid TimeZone offset",Qu="Ambiguous offset",Wt="Out-of-bounds date",tl="Out-of-bounds duration",nl="Cannot mix duration signs",tr="Missing relativeTo",el="Cannot use large units",rl="Required smallestUnit or largestUnit",ol="smallestUnit > largestUnit",J=t=>`Cannot parse: ${t}`,Ot=t=>`Invalid substring: ${t}`,il=t=>`Cannot format ${t}`,po="Mismatching types for formatting",sl="Cannot specify TimeZone",oa=I(ye,(t,n)=>n),Nn=I(ye,(t,n,e)=>e),lt=I(ve,2),go={nanosecond:0,microsecond:1,millisecond:2,second:3,minute:4,hour:5,day:6,week:7,month:8,year:9},wo=Object.keys(go),X=864e5,ia=1e3,oe=1e3,Ct=1e6,wt=1e9,nr=6e10,er=36e11,R=864e11,yt=[1,oe,Ct,wt,nr,er,R],Rt=wo.slice(0,6),yo=Ln(Rt),al=["offset"],sa=["timeZone"],aa=Rt.concat(al),ca=aa.concat(sa),vo=["era","eraYear"],cl=vo.concat(["year"]),Eo=["year"],So=["monthCode"],Mo=["month"].concat(So),ie=["day"],bo=Mo.concat(Eo),ua=So.concat(Eo),Nt=ie.concat(bo),ul=ie.concat(Mo),la=ie.concat(So),da=Nn(Rt,0),T="iso8601",zn="gregory",Vt="japanese",fa={[zn]:{"gregory-inverse":-1,gregory:0},[Vt]:{"japanese-inverse":-1,japanese:0,meiji:1867,taisho:1911,showa:1925,heisei:1988,reiwa:2018},ethiopic:{ethioaa:0,ethiopic:5500},coptic:{"coptic-inverse":-1,coptic:0},roc:{"roc-inverse":-1,roc:0},buddhist:{be:0},islamic:{ah:0},indian:{saka:0},persian:{ap:0}},ha={[zn]:{bce:"gregory-inverse",ce:"gregory"},[Vt]:{bce:"japanese-inverse",ce:"japanese"},ethiopic:{era0:"ethioaa",era1:"ethiopic"},coptic:{era0:"coptic-inverse",era1:"coptic"},roc:{broc:"roc-inverse",minguo:"roc"}},ll={chinese:13,dangi:13,hebrew:-6},A=I(pr,"string"),dl=I(pr,"boolean"),fl=I(pr,"number"),O=wo.map(t=>t+"s"),Io=Ln(O),hl=O.slice(0,6),ma=O.slice(6),ml=ma.slice(1),pl=oa(O),j=Nn(O,0),To=Nn(hl,0),Do=I(ui,O),dt=["isoNanosecond","isoMicrosecond","isoMillisecond","isoSecond","isoMinute","isoHour"],Oo=["isoDay","isoMonth","isoYear"],rr=dt.concat(Oo),Co=Ln(Oo),pa=Ln(dt),gl=Ln(rr),K=Nn(pa,0),wl=I(ui,rr),ga=1e8,yl=ga*X,vl=[ga,0],El=[-1e8,0],se=275760,ae=-271821,Gt=Intl.DateTimeFormat,wa="en-GB",Sl=1970,zt=1972,qt=12,Ml=vn(1868,9,8),bl=tt(rc,WeakMap),or="smallestUnit",Ro="unit",ce="roundingIncrement",No="fractionalSecondDigits",ya="relativeTo",zo="direction",va={constrain:0,reject:1},Il=Object.keys(va),Tl={compatible:0,reject:1,earlier:2,later:3},Dl={reject:0,use:1,prefer:2,ignore:3},Ol={auto:0,never:1,critical:2,always:3},Cl={auto:0,never:1,critical:2},Rl={auto:0,never:1},Nl={floor:0,halfFloor:1,ceil:2,halfCeil:3,trunc:4,halfTrunc:5,expand:6,halfExpand:7,halfEven:8},zl={previous:-1,next:1},ue=I(zr,or),Ea=I(zr,"largestUnit"),_l=I(zr,Ro),Sa=I(Bt,"overflow",va),Ma=I(Bt,"disambiguation",Tl),kl=I(Bt,"offset",Dl),_o=I(Bt,"calendarName",Ol),Pl=I(Bt,"timeZoneName",Cl),Fl=I(Bt,"offset",Rl),le=I(Bt,"roundingMode",Nl),ko="PlainYearMonth",Po="PlainMonthDay",de="PlainDate",_n="PlainDateTime",Fo="PlainTime",Ht="ZonedDateTime",xo="Instant",Bo="Duration",xl=[Math.floor,t=>Se(t)?Math.floor(t):Math.round(t),Math.ceil,t=>Se(t)?Math.ceil(t):Math.round(t),Math.trunc,t=>Se(t)?Math.trunc(t)||0:Math.round(t),t=>t<0?Math.floor(t):Math.ceil(t),t=>Math.sign(t)*Math.round(Math.abs(t))||0,t=>Se(t)?(t=Math.trunc(t)||0)+t%2:Math.round(t)],hn="UTC",ir=5184e3,Bl=De(1847),Yl=De(new Date().getUTCFullYear()+10),jl=/0+$/,rt=tt(yc,WeakMap),Al=2**32-1,b=tt(t=>{const n=Qr(t);return typeof n=="object"?new Ll(n):new Zl(n||0)});class Zl{constructor(n){this.$=n}R(){return this.$}I(n){return(e=>{const r=B({...e,...K});if(!r||Math.abs(r[0])>1e8)throw new RangeError(Wt)})(n),[br(n,this.$)]}O(){}}class Ll{constructor(n){this.nn=(e=>{function r(u){const l=$n(u,a,c),[f,h]=us(l),m=i(f),p=i(h);return m===p?m:o(s(f,h),m,p,u)}function o(u,l,f,h){let m,p;for(;(h===void 0||(m=h<u[0]?l:h>=u[1]?f:void 0)===void 0)&&(p=u[1]-u[0]);){const w=u[0]+Math.floor(p/2);e(w)===f?u[1]=w:u[0]=w+1}return m}const i=tt(e),s=tt(Mc);let a=Bl,c=Yl;return{tn(u){const l=r(u-86400),f=r(u+86400),h=u-l,m=u-f;if(l===f)return[h];const p=r(h);return p===r(m)?[u-p]:l>f?[h,m]:[]},rn:r,O(u,l){const f=$n(u,a,c);let[h,m]=us(f);const p=ir*l,w=l<0?()=>m>a||(a=f,0):()=>h<c||(c=f,0);for(;w();){const g=i(h),y=i(m);if(g!==y){const v=s(h,m);o(v,g,y);const E=v[0];if((Pt(E,u)||1)===l)return E}h+=p,m+=p}}}})((e=>r=>{const o=Ir(e,r*ia);return De(Ys(o),parseInt(o.month),parseInt(o.day),parseInt(o.hour),parseInt(o.minute),parseInt(o.second))-r})(n))}R(n){return this.nn.rn((e=>vi(e)[0])(n))*wt}I(n){const[e,r]=[De((o=n).isoYear,o.isoMonth,o.isoDay,o.isoHour,o.isoMinute,o.isoSecond),o.isoMillisecond*Ct+o.isoMicrosecond*oe+o.isoNanosecond];var o;return this.nn.tn(e).map(i=>mt(rn(Ie(i,wt),r)))}O(n,e){const[r,o]=vi(n),i=this.nn.O(r+(e>0||o?1:0),e);if(i!==void 0)return Ie(i,wt)}}const Yo="([+-])",sr="(?:[.,](\\d{1,9}))?",ba=`(?:(?:${Yo}(\\d{6}))|(\\d{4}))-?(\\d{2})`,jo="(\\d{2})(?::?(\\d{2})(?::?(\\d{2})"+sr+")?)?",Ao=Yo+jo,$l=ba+"-?(\\d{2})(?:[T ]"+jo+"(Z|"+Ao+")?)?",Ia="\\[(!?)([^\\]]*)\\]",ar=`((?:${Ia}){0,9})`,Ul=Dn(ba+ar),Wl=Dn("(?:--)?(\\d{2})-?(\\d{2})"+ar),Vl=Dn($l+ar),Gl=Dn("T?"+jo+"(?:"+Ao+")?"+ar),ql=Dn(Ao),Hl=new RegExp(Ia,"g"),Jl=Dn(`${Yo}?P(\\d+Y)?(\\d+M)?(\\d+W)?(\\d+D)?(?:T(?:(\\d+)${sr}H)?(?:(\\d+)${sr}M)?(?:(\\d+)${sr}S)?)?`),Xl=tt(t=>new Gt(wa,{timeZone:t,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),Kl=/^(AC|AE|AG|AR|AS|BE|BS|CA|CN|CS|CT|EA|EC|IE|IS|JS|MI|NE|NS|PL|PN|PR|PS|SS|VS)T$/,Ql=/[^\w\/:+-]+/,td=/^M(\d{2})(L?)$/,nd=tt(Uc),Zo=tt(t=>new Gt(wa,{calendar:t,timeZone:hn,era:"short",year:"numeric",month:"short",day:"numeric"})),Ta={P(t,n,e){const r=D(e);let o,{years:i,months:s,weeks:a,days:c}=n;if(c+=Y(n,5)[0],i||s)o=((u,l,f,h,m)=>{let[p,w,g]=u.v(l);if(f){const[y,v]=u.q(p,w);p+=f,w=Ge(y,v,u.L(p)),w=St("month",w,1,u.B(p),m)}return h&&([p,w]=u.un(p,w,h)),g=St("day",g,1,u.U(p,w),m),u.p(p,w,g)})(this,t,i,s,r);else{if(!a&&!c)return t;o=$(t)}if(o===void 0)throw new RangeError(Wt);return o+=(7*a+c)*X,at(Oe(o))},N(t,n,e){if(e<=7){let c=0,u=zs({...t,...K},{...n,...K});return e===7&&([c,u]=Ft(u,7)),{...j,weeks:c,days:u}}const r=this.v(t),o=this.v(n);let[i,s,a]=((c,u,l,f,h,m,p)=>{let w=h-u,g=m-l,y=p-f;if(w||g){const v=Math.sign(w||g);let E=c.U(h,m),M=0;if(Math.sign(y)===-v){const C=E;[h,m]=c.un(h,m,-v),w=h-u,g=m-l,E=c.U(h,m),M=v<0?-C:E}if(y=p-Math.min(f,E)+M,w){const[C,N]=c.q(u,l),[_,P]=c.q(h,m);if(g=_-C||Number(P)-Number(N),Math.sign(g)===-v){const k=v<0&&-c.B(h);w=(h-=v)-u,g=m-Ge(C,N,c.L(h))+(k||c.B(h))}}}return[w,g,y]})(this,...r,...o);return e===8&&(s+=this.cn(i,r[0]),i=0),{...j,years:i,months:s,days:a}},F(t,n){const e=D(n),r=so(this,t),o=Qe(this,t,r,e),i=ao(this,t,o,r,e);return Dt(at(this.V(r,o,i)),this.id||T)},K(t,n){const e=D(n),r=so(this,t),o=Qe(this,t,r,e);return Vn(Mr(this.V(r,o,1)),this.id||T)},_(t,n){const e=D(n);let r,o,i,s=t.eraYear!==void 0||t.year!==void 0?so(this,t):void 0;const a=!this.id;if(s===void 0&&a&&(s=zt),s!==void 0){const f=Qe(this,t,s,e);r=ao(this,t,f,s,e);const h=this.L(s);o=oo(f,h),i=f===h}else{if(t.monthCode===void 0)throw new TypeError(Qs);if([o,i]=ro(t.monthCode),this.id&&this.id!==zn&&this.id!==Vt)if(this.id&&dn(this.id)==="coptic"&&e===0){const f=i||o!==13?30:6;r=t.day,r=$n(r,1,f)}else if(this.id&&dn(this.id)==="chinese"&&e===0){const f=!i||o!==1&&o!==9&&o!==10&&o!==11&&o!==12?30:29;r=t.day,r=$n(r,1,f)}else r=t.day;else r=ao(this,t,Qe(this,t,zt,e),zt,e)}const c=this.G(o,i,r);if(!c)throw new RangeError("Cannot guess year");const[u,l]=c;return ke(at(this.V(u,l,r)),this.id||T)},fields(t){return io(this)&&t.includes("year")?[...t,...vo]:t},k(t,n){const e=Object.assign(Object.create(null),t);return co(e,n,Mo),io(this)&&(co(e,n,cl),this.id===Vt&&co(e,n,ul,vo)),e},inLeapYear(t){const[n]=this.v(t);return this.sn(n)},monthsInYear(t){const[n]=this.v(t);return this.B(n)},daysInMonth(t){const[n,e]=this.v(t);return this.U(n,e)},daysInYear(t){const[n]=this.v(t);return this.fn(n)},dayOfYear:eo,era(t){return this.hn(t)[0]},eraYear(t){return this.hn(t)[1]},monthCode(t){const[n,e]=this.v(t),[r,o]=this.q(n,e);return Kn(r,o)},dayOfWeek:Ti,daysInWeek(){return 7}},ed={v:Tr,hn:Di,q:Si},rd={dayOfYear:eo,v:Tr,p:vn},od=Object.assign({},rd,{weekOfYear:_s,yearOfWeek:ks,m(t){function n(m){return(7-m<r?7:0)-m}function e(m){const p=Ii(h+m),w=m||1,g=n(Un(c+p*w,7));return l=(p+(g-u)*w)/7}const r=this.id?1:4,o=Ti(t),i=this.dayOfYear(t),s=Un(o-1,7),a=i-1,c=Un(s-a,7),u=n(c);let l,f=Math.floor((a-u)/7)+1,h=t.isoYear;return f?f>e(0)&&(f=1,h++):(f=e(-1),h--),[f,h,l]}}),id=Object.assign({},Ta,od,{v:Tr,hn:Di,q:Si,G(t,n){if(!n)return[zt,t]},sn:Dr,L(){},B:Mi,cn:t=>t*qt,U:bi,fn:Ii,V:(t,n,e)=>({isoYear:t,isoMonth:n,isoDay:e}),p:vn,un:(t,n,e)=>(t+=Ee(e,qt),(n+=hr(e,qt))<1?(t--,n+=qt):n>qt&&(t++,n-=qt),[t,n]),year(t){return t.isoYear},month(t){return t.isoMonth},day:t=>t.isoDay}),sd={v:qe,hn:Zs,q:js},ad={dayOfYear:eo,v:qe,p:Qn,weekOfYear:_s,yearOfWeek:ks,m(){return[]}},cd=Object.assign({},Ta,ad,{v:qe,hn:Zs,q:js,G(t,n,e){const r=this.id&&dn(this.id)==="chinese"?((u,l,f)=>{if(l)switch(u){case 1:return 1651;case 2:return f<30?1947:1765;case 3:return f<30?1966:1955;case 4:return f<30?1963:1944;case 5:return f<30?1971:1952;case 6:return f<30?1960:1941;case 7:return f<30?1968:1938;case 8:return f<30?1957:1718;case 9:return 1832;case 10:return 1870;case 11:return 1814;case 12:return 1890}return 1972})(t,n,e):zt;let[o,i,s]=qe.call(this,{isoYear:r,isoMonth:qt,isoDay:31});const a=He.call(this,o),c=i===a;(Pt(t,oo(i,a))||Pt(Number(n),Number(c))||Pt(e,s))===1&&o--;for(let u=0;u<100;u++){const l=o-u,f=He.call(this,l),h=Ge(t,n,f);if(n===(h===f)&&e<=As.call(this,l,h))return[l,h]}},sn(t){const n=Je.call(this,t);return n>Je.call(this,t-1)&&n>Je.call(this,t+1)},L:He,B:Xe,cn(t,n){const e=n+t,r=Math.sign(t),o=r<0?-1:0;let i=0;for(let s=n;s!==e;s+=r)i+=Xe.call(this,s+o);return i},U:As,fn:Je,V(t,n,e){return Oe(Qn.call(this,t,n,e))},p:Qn,un(t,n,e){if(e){if(n+=e,!Number.isSafeInteger(n))throw new RangeError(Wt);if(e<0)for(;n<1;)n+=Xe.call(this,--t);else{let r;for(;n>(r=Xe.call(this,t));)n-=r,t++}}return[t,n]},year(t){return this.h(t).year},month(t){const{year:n,o:e}=this.h(t),{u:r}=this.l(n);return r[e]+1},day(t){return this.h(t).day}}),cr=$s(ed,sd),S=$s(id,cd),Da={era:be,eraYear:L,year:L,month:wi,monthCode(t){const n=be(t);return ro(n),n},day:wi,...Nn(Rt,L),...Nn(O,yr),offset(t){const n=be(t);return ln(n),n}},Lo=I(si,Rt,dt),ud=I(si,dt,Rt),Jt="numeric",fe=["timeZoneName"],Oa={month:Jt,day:Jt},$o={year:Jt,month:Jt},Uo=Object.assign({},$o,{day:Jt}),Wo={hour:Jt,minute:Jt,second:Jt},Vo=Object.assign({},Uo,Wo),ld=Object.assign({},Vo,{timeZoneName:"short"}),dd=Object.keys($o),fd=Object.keys(Oa),hd=Object.keys(Uo),md=Object.keys(Wo),Go=["dateStyle"],pd=dd.concat(Go),gd=fd.concat(Go),qo=hd.concat(Go,["weekday"]),he=md.concat(["dayPeriod","timeStyle","fractionalSecondDigits"]),Ho=qo.concat(he),wd=fe.concat(he),yd=fe.concat(qo),vd=fe.concat(["day","weekday"],he),Ed=fe.concat(["year","weekday"],he),Sd=fn(Ho,Vo),Md=fn(Ho,ld),bd=fn(Ho,Vo,fe),Id=fn(qo,Uo,wd),Td=fn(he,Wo,yd),Dd=fn(pd,$o,vd),Od=fn(gd,Oa,Ed),Cd={},Ca=new Gt(void 0,{calendar:T}).resolvedOptions().calendar===T,Ra=[Sd,_r],Rd=[Md,_r,0,(t,n)=>{const e=t.timeZone;if(n&&n.timeZone!==e)throw new RangeError(ra);return e}],Na=[bd,$],za=[Id,$],_a=[Td,t=>xt(t)/Ct],ka=[Dd,$,Ca],Pa=[Od,$,Ca];let Fa;function Xt(t,n,e,r,o){function i(...c){if(!(this instanceof i))throw new TypeError(mo);ja(this,n(...c))}function s(c,u){return Object.defineProperties(function(...l){return c.call(this,a(this),...l)},Zn(u))}function a(c){const u=W(c);if(!u||u.branding!==t)throw new TypeError(mo);return u}return Object.defineProperties(i.prototype,{...tc(Mt(s,e)),...gn(Mt(s,r)),...fr("Temporal."+t)}),Object.defineProperties(i,{...gn(o),...Zn(t)}),[i,c=>{const u=Object.create(i.prototype);return ja(u,c),u},a]}function kn(t){if(W(t)||t.calendar!==void 0||t.timeZone!==void 0)throw new TypeError(Au);return t}function me(t){return xa(t)||T}function xa(t){const{calendar:n}=t;if(n!==void 0)return ur(n)}function ur(t){if(Z(t)){const{calendar:n}=W(t)||{};if(!n)throw new TypeError(ta(t));return n}return(n=>Ke(zc(A(n))))(t)}function Jo(t){const n={};for(const e in t)n[e]=r=>{const{calendar:o}=r;return S(o)[e](r)};return n}function Kt(){throw new TypeError(Zu)}function ot(t){if(Z(t)){const{timeZone:n}=W(t)||{};if(!n)throw new TypeError(ea(t));return n}return(n=>Kr(_c(A(n))))(t)}function x(t){if(Z(t)){const n=W(t);return n&&n.branding===Bo?n:tu(t)}return Nc(t)}function pe(t){if(t!==void 0){if(Z(t)){const n=W(t)||{};switch(n.branding){case Ht:case de:return n;case _n:return Dt(n)}const e=me(t);return{...Gc(ot,b,S(e),t),calendar:e}}return Ic(t)}}function Qt(t,n){if(Z(t)){const r=W(t)||{};switch(r.branding){case Fo:return D(n),r;case _n:return D(n),gt(r);case Ht:return D(n),qs(b,r)}return Qc(t,n)}const e=Rc(t);return D(n),e}function Xo(t){return t===void 0?void 0:Qt(t)}function Pn(t,n){if(Z(t)){const r=W(t)||{};switch(r.branding){case _n:return D(n),r;case de:return D(n),ut({...r,...K});case Ht:return D(n),Vs(b,r)}return Hc(S(me(t)),t,n)}const e=Dc(t);return D(n),e}function Ba(t,n){if(Z(t)){const r=W(t);if(r&&r.branding===Po)return D(n),r;const o=xa(t);return Kc(S(o||T),!o,t,n)}const e=Cc(S,t);return D(n),e}function Fn(t,n){if(Z(t)){const r=W(t);return r&&r.branding===ko?(D(n),r):Xc(S(me(t)),t,n)}const e=Oc(S,t);return D(n),e}function xn(t,n){if(Z(t)){const r=W(t)||{};switch(r.branding){case de:return D(n),r;case _n:return D(n),Dt(r);case Ht:return D(n),Gs(b,r)}return Jc(S(me(t)),t,n)}const e=Wr(t);return D(n),e}function Bn(t,n){if(Z(t)){const e=W(t);if(e&&e.branding===Ht)return Re(n),e;const r=me(t);return qc(ot,b,S(r),r,t,n)}return Tc(t,n)}function Ya(t){return Mt(n=>e=>n(Ko(e)),t)}function Ko(t){return rt(t,b)}function Yn(t){if(Z(t)){const n=W(t);if(n)switch(n.branding){case xo:return n;case Ht:return Tt(n.epochNanoseconds)}}return bc(t)}function Nd(){function t(i,s){return new n(i,s)}function n(i,s=Object.create(null)){dr.set(this,((a,c)=>{const u=new Gt(a,c),l=u.resolvedOptions(),f=l.locale,h=st(Object.keys(c),l),m=tt(kd),p=(w,...g)=>{if(w){if(g.length!==2)throw new TypeError(po);for(const M of g)if(M===void 0)throw new TypeError(po)}w||g[0]!==void 0||(g=[]);const y=g.map(M=>W(M)||Number(M));let v,E=0;for(const M of y){const C=typeof M=="object"?M.branding:void 0;if(E++&&C!==v)throw new TypeError(po);v=C}return v?m(v)(f,h,...y):[u,...y]};return p.X=u,p})(i,s))}const e=Gt.prototype,r=Object.getOwnPropertyDescriptors(e),o=Object.getOwnPropertyDescriptors(Gt);for(const i in r){const s=r[i],a=i.startsWith("format")&&zd(i);typeof s.value=="function"?s.value=i==="constructor"?t:a||_d(i):a&&(s.get=function(){if(!dr.has(this))throw new TypeError(mo);return(...c)=>a.apply(this,c)},Object.defineProperties(s.get,Zn(`get ${i}`)))}return o.prototype.value=n.prototype=Object.create({},r),Object.defineProperties(t,o),t}function zd(t){return Object.defineProperties(function(...n){const e=dr.get(this),[r,...o]=e(t.includes("Range"),...n);return r[t](...o)},Zn(t))}function _d(t){return Object.defineProperties(function(...n){return dr.get(this).X[t](...n)},Zn(t))}function kd(t){const n=jd[t];if(!n)throw new TypeError(il(t));return $t(n,tt(Hs),1)}const lr=new WeakMap,W=lr.get.bind(lr),ja=lr.set.bind(lr),Aa={era:nc,eraYear:fi,year:mr,month:It,daysInMonth:It,daysInYear:It,inLeapYear:dl,monthsInYear:It},Qo={monthCode:A},Za={day:It},Pd={dayOfWeek:It,dayOfYear:It,weekOfYear:ec,yearOfWeek:fi,daysInWeek:It},ti=Jo(Object.assign({},Aa,Qo,Za,Pd)),Fd=Jo({...Aa,...Qo}),xd=Jo({...Qo,...Za}),ge={calendarId:t=>t.calendar},Bd=ye(t=>n=>n[t],O.concat("sign")),ni=ye((t,n)=>e=>e[dt[n]],Rt),La={epochMilliseconds:_r,epochNanoseconds:ic},[Yd,z,Ff]=Xt(Bo,pu,{...Bd,blank:Sc},{with:(t,n)=>z(au(t,n)),negated:t=>z(Ur(t)),abs:t=>z(Ec(t)),add:(t,n,e)=>z(ss(pe,S,b,0,t,x(n),e)),subtract:(t,n,e)=>z(ss(pe,S,b,1,t,x(n),e)),round:(t,n)=>z(vc(pe,S,b,t,n)),total:(t,n)=>sc(pe,S,b,t,n),toLocaleString(t,n,e){return Intl.DurationFormat?new Intl.DurationFormat(n,e).format(this):xr(t)},toString:xr,toJSON:t=>xr(t),valueOf:Kt},{from:t=>z(x(t)),compare:(t,n,e)=>Pc(pe,S,b,x(t),x(n),e)}),jd={Instant:Ra,PlainDateTime:Na,PlainDate:za,PlainTime:_a,PlainYearMonth:ka,PlainMonthDay:Pa},Ad=$t(Ra),Zd=$t(Rd),Ld=$t(Na),$d=$t(za),Ud=$t(_a),Wd=$t(ka),Vd=$t(Pa),[Gd,tn]=Xt(Fo,mu,ni,{with(t,n,e){return tn(su(this,kn(n),e))},add:(t,n)=>tn(os(0,t,x(n))),subtract:(t,n)=>tn(os(1,t,x(n))),until:(t,n,e)=>z(Os(0,t,Qt(n),e)),since:(t,n,e)=>z(Os(1,t,Qt(n),e)),round:(t,n)=>tn(lc(t,n)),equals:(t,n)=>Zc(t,Qt(n)),toLocaleString(t,n,e){const[r,o]=Ud(n,e,t);return r.format(o)},toString:Vi,toJSON:t=>Vi(t),valueOf:Kt},{from:(t,n)=>tn(Qt(t,n)),compare:(t,n)=>to(Qt(t),Qt(n))}),[qd,vt]=Xt(_n,I(lu,te),{...ge,...ti,...ni},{with:(t,n,e)=>vt(eu(S,t,kn(n),e)),withCalendar:(t,n)=>vt(uo(t,ur(n))),withPlainTime:(t,n)=>vt(Ru(t,Xo(n))),add:(t,n,e)=>vt(ns(S,0,t,x(n),e)),subtract:(t,n,e)=>vt(ns(S,1,t,x(n),e)),until:(t,n,e)=>z(bs(S,0,t,Pn(n),e)),since:(t,n,e)=>z(bs(S,1,t,Pn(n),e)),round:(t,n)=>vt(uc(t,n)),equals:(t,n)=>Bc(t,Pn(n)),toZonedDateTime:(t,n,e)=>V(yu(b,t,ot(n),e)),toPlainDate:t=>Et(Dt(t)),toPlainTime:t=>tn(gt(t)),toLocaleString(t,n,e){const[r,o]=Ld(n,e,t);return r.format(o)},toString:Li,toJSON:t=>Li(t),valueOf:Kt},{from:(t,n)=>vt(Pn(t,n)),compare:(t,n)=>vs(Pn(t),Pn(n))}),[Hd,ei,xf]=Xt(Po,I(hu,te),{...ge,...xd},{with:(t,n,e)=>ei(iu(S,t,kn(n),e)),equals:(t,n)=>Ac(t,Ba(n)),toPlainDate(t,n){return Et(Iu(S,t,this,n))},toLocaleString(t,n,e){const[r,o]=Vd(n,e,t);return r.format(o)},toString:Wi,toJSON:t=>Wi(t),valueOf:Kt},{from:(t,n)=>ei(Ba(t,n))}),[Jd,we,Bf]=Xt(ko,I(fu,te),{...ge,...Fd},{with:(t,n,e)=>we(ou(S,t,kn(n),e)),add:(t,n,e)=>we(rs(S,0,t,x(n),e)),subtract:(t,n,e)=>we(rs(S,1,t,x(n),e)),until:(t,n,e)=>z(Ts(S,0,t,Fn(n),e)),since:(t,n,e)=>z(Ts(S,1,t,Fn(n),e)),equals:(t,n)=>jc(t,Fn(n)),toPlainDate(t,n){return Et(bu(S,t,this,n))},toLocaleString(t,n,e){const[r,o]=Wd(n,e,t);return r.format(o)},toString:Ui,toJSON:t=>Ui(t),valueOf:Kt},{from:(t,n)=>we(Fn(t,n)),compare:(t,n)=>Cn(Fn(t),Fn(n))}),[Xd,Et,Yf]=Xt(de,I(du,te),{...ge,...ti},{with:(t,n,e)=>Et(ru(S,t,kn(n),e)),withCalendar:(t,n)=>Et(uo(t,ur(n))),add:(t,n,e)=>Et(es(S,0,t,x(n),e)),subtract:(t,n,e)=>Et(es(S,1,t,x(n),e)),until:(t,n,e)=>z(Is(S,0,t,xn(n),e)),since:(t,n,e)=>z(Is(S,1,t,xn(n),e)),equals:(t,n)=>Yc(t,xn(n)),toZonedDateTime(t,n){const e=Z(n)?n:{timeZone:n};return V(vu(ot,Qt,b,t,e))},toPlainDateTime:(t,n)=>vt(Eu(t,Xo(n))),toPlainYearMonth(t){return we(Su(S,t,this))},toPlainMonthDay(t){return ei(Mu(S,t,this))},toLocaleString(t,n,e){const[r,o]=$d(n,e,t);return r.format(o)},toString:$i,toJSON:t=>$i(t),valueOf:Kt},{from:(t,n)=>Et(xn(t,n)),compare:(t,n)=>Cn(xn(t),xn(n))}),[Kd,V]=Xt(Ht,I(uu,te,kc),{...La,...ge,...Ya(ti),...Ya(ni),offset:t=>qn(Ko(t).offsetNanoseconds),offsetNanoseconds:t=>Ko(t).offsetNanoseconds,timeZoneId:t=>t.timeZone,hoursInDay:t=>dc(b,t)},{with:(t,n,e)=>V(nu(S,b,t,kn(n),e)),withCalendar:(t,n)=>V(uo(t,ur(n))),withTimeZone:(t,n)=>V(Nu(t,ot(n))),withPlainTime:(t,n)=>V(Cu(b,t,Xo(n))),add:(t,n,e)=>V(ts(S,b,0,t,x(n),e)),subtract:(t,n,e)=>V(ts(S,b,1,t,x(n),e)),until:(t,n,e)=>z(F(Ms(S,b,0,t,Bn(n),e))),since:(t,n,e)=>z(F(Ms(S,b,1,t,Bn(n),e))),round:(t,n)=>V(cc(b,t,n)),startOfDay:t=>V(fc(b,t)),equals:(t,n)=>xc(t,Bn(n)),toInstant:t=>nn(wu(t)),toPlainDateTime:t=>vt(Vs(b,t)),toPlainDate:t=>Et(Gs(b,t)),toPlainTime:t=>tn(qs(b,t)),toLocaleString(t,n,e={}){const[r,o]=Zd(n,e,t);return r.format(o)},toString:(t,n)=>Zi(b,t,n),toJSON:t=>Zi(b,t),valueOf:Kt,getTimeZoneTransition(t,n){const{timeZone:e,epochNanoseconds:r}=t,o=oc(n),i=b(e).O(r,o);return i?V({...t,epochNanoseconds:i}):null}},{from:(t,n)=>V(Bn(t,n)),compare:(t,n)=>ys(Bn(t),Bn(n))}),[Qd,nn,jf]=Xt(xo,cu,La,{add:(t,n)=>nn(Qi(0,t,x(n))),subtract:(t,n)=>nn(Qi(1,t,x(n))),until:(t,n,e)=>z(Ss(0,t,Yn(n),e)),since:(t,n,e)=>z(Ss(1,t,Yn(n),e)),round:(t,n)=>nn(ac(t,n)),equals:(t,n)=>Fc(t,Yn(n)),toZonedDateTimeISO:(t,n)=>V(gu(t,ot(n))),toLocaleString(t,n,e){const[r,o]=Ad(n,e,t);return r.format(o)},toString:(t,n)=>Ai(ot,b,t,n),toJSON:t=>Ai(ot,b,t),valueOf:Kt},{from:t=>nn(Yn(t)),fromEpochMilliseconds:t=>nn(Tu(t)),fromEpochNanoseconds:t=>nn(Du(t)),compare:(t,n)=>ws(Yn(t),Yn(n))}),tf=Object.defineProperties({},{...fr("Temporal.Now"),...gn({timeZoneId:()=>ee(),instant:()=>nn(Tt(fo())),zonedDateTimeISO:(t=ee())=>V(ct(fo(),ot(t),T)),plainDateTimeISO:(t=ee())=>vt(ut(lo(b(ot(t))),T)),plainDateISO:(t=ee())=>Et(Dt(lo(b(ot(t))),T)),plainTimeISO:(t=ee())=>tn(gt(lo(b(ot(t)))))})}),mn=Object.defineProperties({},{...fr("Temporal"),...gn({PlainYearMonth:Jd,PlainMonthDay:Hd,PlainDate:Xd,PlainTime:Gd,PlainDateTime:qd,ZonedDateTime:Kd,Instant:Qd,Duration:Yd,Now:tf})}),nf=Nd(),dr=new WeakMap;Object.create(Intl),gn({DateTimeFormat:nf});const _t={timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,nWeeks:1,firstDayOfWeek:1,daySize:160,dayHeadSize:32,eventSize:48,resourceGroupSize:24,gap:0,overscan:0};function ef(t={}){const n=Math.max(t.nWeeks||_t.nWeeks,1),e=t.firstDayOfWeek??_t.firstDayOfWeek,r=mn.PlainDate.from(t.date||mn.Now.plainDateISO()),o=(r.dayOfWeek-e+7)%7,i=r.subtract({days:o}),s=Array.from({length:n*7},(a,c)=>i.add({days:c}).toString());return{start:s.at(0),end:s.at(-1),timezone:t.timezone||_t.timezone,nWeeks:n,firstDayOfWeek:e,dates:s}}function rf(t={}){return{daySize:t.daySize??_t.daySize,dayHeadSize:t.dayHeadSize??_t.dayHeadSize,eventSize:t.eventSize??_t.eventSize,resourceGroupSize:t.resourceGroupSize??_t.resourceGroupSize,resourcesClass:t.resourcesClass,timelineClass:t.timelineClass,gap:t.gap??_t.gap,overscan:t.overscan??_t.overscan}}function ri(t){return t===void 0?[]:Array.isArray(t)?t:[t]}function $a(t,n,e){return t.has(n)||t.set(n,e),t.get(n)}function of(t=[],n){const e=new Map;for(var r=0;r<t.length;r++){const i=t[r],s=mn.Instant.from(i.start).toZonedDateTimeISO(n).toPlainDate().toString(),a=ri(i.resourceId);for(var o=0;o<a.length;o++){const c=a[o],u=$a(e,c,new Map);$a(u,s,new Set).add(i)}}return e}const it={EXCLUDED_RESOURCE_FIELDS:["id","nOrder","isGroup","isCollapsed","resources","maxEvents"],DATA_TRANSFER_TYPE:"cullendar-drag-event",TIMELINE_SELECTOR:".cullendar-timeline",RESOURCES_SELECTOR:".cullendar-resources",DRAGGING_CLASS:"cullendar-is-dragging",RESIZING_CLASS:"cullendar-is-resizing"};function Ua(t,n){const e=Object.entries(t),r=ri(n);return Object.fromEntries(e.filter(([o])=>!r.includes(o)))}const oi=d.reactive(new Set);function sf(t=[],n=new Map){const e=Va(t),r=new Map;for(var o=0;o<e.length;o++){const s=e[o],a=s.resources?af(s,n):Wa(s,n.get(s.id));if(r.set(a.id,a),"isGroup"in a&&!a.isCollapsed&&a.resources.length)for(var i=0;i<a.resources.length;i++){const c=a.resources[i];r.set(c.id,c)}}return r}function af(t,n){const e=oi.has(t.id);return{id:t.id,nOrder:t.nOrder,isGroup:!0,isCollapsed:e,resources:Va(t.resources.map(r=>Wa(r,n.get(r.id)))),data:Ua(t,it.EXCLUDED_RESOURCE_FIELDS),open:()=>oi.delete(t.id),close:()=>oi.add(t.id)}}function Wa(t,n=new Map){return{id:t.id,nOrder:t.nOrder,isEventDroppable:t.isEventDroppable??!0,maxEvents:Math.max(...Array.from(n.values()).map(e=>e.size),1),data:Ua(t,it.EXCLUDED_RESOURCE_FIELDS)}}function Va(t){return t.slice().sort((n,e)=>(n.nOrder??Number.MAX_SAFE_INTEGER)-(e.nOrder??Number.MAX_SAFE_INTEGER))}function cf(t={}){return{onView:t.onView||(n=>{}),onAddEvent:t.onAddEvent||(n=>{}),onMoveEvent:t.onMoveEvent||(n=>{}),onResizeEvent:t.onResizeEvent||(n=>{}),onBeforeDropEvent:t.onBeforeDropEvent||(n=>!0)}}function uf(t,n){function e(o,i){const s=t.value.get(o)||new Map;return(i?s.get(i):s)||new Set}function r(o){return n.value.get(o)}return{getResource:r,getEvents:e}}function lf(t={}){const n=Qa(),e=d.ref(),r=d.ref(new Map),o=d.computed(()=>ef(t.view)),i=d.computed(()=>rf(t.layout)),s=d.computed(()=>of(d.unref(t.events),o.value.timezone)),a=d.computed(()=>sf(d.unref(t.resources),s.value)),c=d.computed(()=>cf(t.callbacks)),u=uf(s,a);return d.watch(o,()=>c.value.onView(o.value)),d.reactive({id:n,elements:e,view:o,layout:i,events:s,resources:a,callbacks:c,utils:u,resizeMap:r})}function G(t){return`${t}px`}function df(){const t=Object.assign(document.createElement("div"),{style:"overflow:scroll;visibility:hidden;"}),n=document.body.appendChild(t),e=n.offsetWidth-n.clientWidth;return n.remove(),G(e)}function jn(t,n,e){let r=e.initialDeps??[],o;function i(){var s,a,c,u;let l;e.key&&((s=e.debug)!=null&&s.call(e))&&(l=Date.now());const f=t();if(!(f.length!==r.length||f.some((p,w)=>r[w]!==p)))return o;r=f;let m;if(e.key&&((a=e.debug)!=null&&a.call(e))&&(m=Date.now()),o=n(...f),e.key&&((c=e.debug)!=null&&c.call(e))){const p=Math.round((Date.now()-l)*100)/100,w=Math.round((Date.now()-m)*100)/100,g=w/16,y=(v,E)=>{for(v=String(v);v.length<E;)v=" "+v;return v};console.info(`%c ${y(w,5)} /${y(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,e==null?void 0:e.key)}return(u=e==null?void 0:e.onChange)==null||u.call(e,o),o}return i.updateDeps=s=>{r=s},i}function ii(t,n){if(t===void 0)throw new Error("Unexpected undefined");return t}const ff=(t,n)=>Math.abs(t-n)<1,hf=(t,n,e)=>{let r;return function(...o){t.clearTimeout(r),r=t.setTimeout(()=>n.apply(this,o),e)}},mf=t=>t,pf=t=>{const n=Math.max(t.startIndex-t.overscan,0),e=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let o=n;o<=e;o++)r.push(o);return r},gf=(t,n)=>{const e=t.scrollElement;if(!e)return;const r=t.targetWindow;if(!r)return;const o=s=>{const{width:a,height:c}=s;n({width:Math.round(a),height:Math.round(c)})};if(o(e.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(s=>{const a=()=>{const c=s[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){o({width:u.inlineSize,height:u.blockSize});return}}o(e.getBoundingClientRect())};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return i.observe(e,{box:"border-box"}),()=>{i.unobserve(e)}},Ga={passive:!0},qa=typeof window>"u"?!0:"onscrollend"in window,wf=(t,n)=>{const e=t.scrollElement;if(!e)return;const r=t.targetWindow;if(!r)return;let o=0;const i=t.options.useScrollendEvent&&qa?()=>{}:hf(r,()=>{n(o,!1)},t.options.isScrollingResetDelay),s=l=>()=>{const{horizontal:f,isRtl:h}=t.options;o=f?e.scrollLeft*(h&&-1||1):e.scrollTop,i(),n(o,l)},a=s(!0),c=s(!1);c(),e.addEventListener("scroll",a,Ga);const u=t.options.useScrollendEvent&&qa;return u&&e.addEventListener("scrollend",c,Ga),()=>{e.removeEventListener("scroll",a),u&&e.removeEventListener("scrollend",c)}},yf=(t,n,e)=>{if(n!=null&&n.borderBoxSize){const r=n.borderBoxSize[0];if(r)return Math.round(r[e.options.horizontal?"inlineSize":"blockSize"])}return Math.round(t.getBoundingClientRect()[e.options.horizontal?"width":"height"])},vf=(t,{adjustments:n=0,behavior:e},r)=>{var o,i;const s=t+n;(i=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||i.call(o,{[r.options.horizontal?"left":"top"]:s,behavior:e})};class Ef{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const r=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(o=>{o.forEach(i=>{const s=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),e=null},observe:o=>{var i;return(i=r())==null?void 0:i.observe(o,{box:"border-box"})},unobserve:o=>{var i;return(i=r())==null?void 0:i.unobserve(o)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([r,o])=>{typeof o>"u"&&delete e[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:mf,rangeExtractor:pf,onChange:()=>{},measureElement:yf,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,e)},this.maybeNotify=jn(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:process.env.NODE_ENV!=="production"&&"maybeNotify",debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,r)=>{const o=new Map,i=new Map;for(let s=r-1;s>=0;s--){const a=e[s];if(o.has(a.lane))continue;const c=i.get(a.lane);if(c==null||a.end>c.end?i.set(a.lane,a):a.end<c.end&&o.set(a.lane,!0),o.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=jn(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,r,o,i,s)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:s}),{key:!1}),this.getMeasurements=jn(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:s},a)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(l=>{this.itemSizeCache.set(l.key,l.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let l=c;l<e;l++){const f=i(l),h=this.options.lanes===1?u[l-1]:this.getFurthestMeasurement(u,l),m=h?h.end+this.options.gap:r+o,p=a.get(f),w=typeof p=="number"?p:this.options.estimateSize(l),g=m+w,y=h?h.lane:l%this.options.lanes;u[l]={index:l,start:m,size:w,end:g,key:f,lane:y}}return this.measurementsCache=u,u},{key:process.env.NODE_ENV!=="production"&&"getMeasurements",debug:()=>this.options.debug}),this.calculateRange=jn(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,r,o,i)=>this.range=e.length>0&&r>0?Sf({measurements:e,outerSize:r,scrollOffset:o,lanes:i}):null,{key:process.env.NODE_ENV!=="production"&&"calculateRange",debug:()=>this.options.debug}),this.getVirtualIndexes=jn(()=>{let e=null,r=null;const o=this.calculateRange();return o&&(e=o.startIndex,r=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,r]},(e,r,o,i,s)=>i===null||s===null?[]:e({startIndex:i,endIndex:s,overscan:r,count:o}),{key:process.env.NODE_ENV!=="production"&&"getVirtualIndexes",debug:()=>this.options.debug}),this.indexFromElement=e=>{const r=this.options.indexAttribute,o=e.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(e,r)=>{const o=this.indexFromElement(e),i=this.measurementsCache[o];if(!i)return;const s=i.key,a=this.elementsCache.get(s);a!==e&&(a&&this.observer.unobserve(a),this.observer.observe(e),this.elementsCache.set(s,e)),e.isConnected&&this.resizeItem(o,this.options.measureElement(e,r,this))},this.resizeItem=(e,r)=>{const o=this.measurementsCache[e];if(!o)return;const i=this.itemSizeCache.get(o.key)??o.size,s=r-i;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,s,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&(process.env.NODE_ENV!=="production"&&this.options.debug&&console.info("correction",s),this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0})),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(e,void 0)},this.getVirtualItems=jn(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,r)=>{const o=[];for(let i=0,s=e.length;i<s;i++){const a=e[i],c=r[a];o.push(c)}return o},{key:process.env.NODE_ENV!=="production"&&"getVirtualItems",debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const r=this.getMeasurements();if(r.length!==0)return ii(r[Ha(0,r.length-1,o=>ii(r[o]).start,e)])},this.getOffsetForAlignment=(e,r,o=0)=>{const i=this.getSize(),s=this.getScrollOffset();r==="auto"&&(r=e>=s+i?"end":"start"),r==="center"?e+=(o-i)/2:r==="end"&&(e-=i);const a=this.options.horizontal?"scrollWidth":"scrollHeight",u=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[a]:this.scrollElement[a]:0)-i;return Math.max(Math.min(u,e),0)},this.getOffsetForIndex=(e,r="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const o=this.measurementsCache[e];if(!o)return;const i=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(o.end>=s+i-this.options.scrollPaddingEnd)r="end";else if(o.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const a=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,o.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:r="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(e,{align:r="auto",behavior:o}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(e,r);if(!i)return;const[s,a]=i;this._scrollToOffset(s,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){const[u]=ii(this.getOffsetForIndex(e,a));ff(u,this.getScrollOffset())||this.scrollToIndex(e,{align:a,behavior:o})}else this.scrollToIndex(e,{align:a,behavior:o})}))},this.scrollBy=(e,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var e;const r=this.getMeasurements();let o;if(r.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((e=r[r.length-1])==null?void 0:e.end)??0;else{const i=Array(this.options.lanes).fill(null);let s=r.length-1;for(;s>=0&&i.some(a=>a===null);){const a=r[s];i[a.lane]===null&&(i[a.lane]=a.end),s--}o=Math.max(...i.filter(a=>a!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:r,behavior:o})=>{this.options.scrollToFn(e,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(n)}}const Ha=(t,n,e,r)=>{for(;t<=n;){const o=(t+n)/2|0,i=e(o);if(i<r)t=o+1;else if(i>r)n=o-1;else return o}return t>0?t-1:0};function Sf({measurements:t,outerSize:n,scrollOffset:e,lanes:r}){const o=t.length-1,i=c=>t[c].start;if(t.length<=r)return{startIndex:0,endIndex:o};let s=Ha(0,o,i,e),a=s;if(r===1)for(;a<o&&t[a].end<e+n;)a++;else if(r>1){const c=Array(r).fill(0);for(;a<o&&c.some(l=>l<e+n);){const l=t[a];c[l.lane]=l.end,a++}const u=Array(r).fill(e+n);for(;s>=0&&u.some(l=>l>=e);){const l=t[s];u[l.lane]=l.start,s--}s=Math.max(0,s-s%r),a=Math.min(o,a+(r-1-a%r))}return{startIndex:s,endIndex:a}}function Mf(t){const n=new Ef(d.unref(t)),e=d.shallowRef(n),r=n._didMount();return d.watch(()=>d.unref(t).getScrollElement(),o=>{o&&n._willUpdate()},{immediate:!0}),d.watch(()=>d.unref(t),o=>{n.setOptions({...o,onChange:(i,s)=>{var a;d.triggerRef(e),(a=o.onChange)==null||a.call(o,i,s)}}),n._willUpdate(),d.triggerRef(e)},{immediate:!0}),d.onScopeDispose(r),e}function Ja(t){return Mf(d.computed(()=>({observeElementRect:gf,observeElementOffset:wf,scrollToFn:vf,...d.unref(t)})))}function bf(t){const n=document.getElementById(t);return{calendar:n,timeline:n.querySelector(it.TIMELINE_SELECTOR),resources:n.querySelector(it.RESOURCES_SELECTOR)}}const If=d.defineComponent({__name:"RowVirtualiser",props:{rows:{},layout:{},wrapperStyle:{}},setup(t){const n=t,e=d.ref(null),r=d.computed(()=>({count:n.rows.length,getScrollElement:()=>e.value,estimateSize:c,gap:n.layout.gap,paddingStart:n.layout.dayHeadSize,overscan:n.layout.overscan})),o=Ja(r),i=d.computed(()=>o.value.getVirtualItems()),s=d.computed(()=>o.value.getTotalSize()),a=d.computed(()=>({height:G(s.value),...n.wrapperStyle}));d.watch(()=>n.rows,()=>o.value.measure());function c(u){const l=n.rows[u];return"isGroup"in l?n.layout.resourceGroupSize:l.maxEvents*n.layout.eventSize}return(u,l)=>(d.openBlock(),d.createElementBlock("div",{ref_key:"el",ref:e},[d.createElementVNode("div",{class:"cullendar-row-virtualiser-wrapper",style:d.normalizeStyle(a.value)},[d.renderSlot(u.$slots,"wrapper",{},void 0,!0),(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(i.value,f=>d.renderSlot(u.$slots,"default",d.mergeProps({key:f.index,ref_for:!0},{row:f,data:u.rows[f.index]}),void 0,!0)),128))],4)],512))}}),An=(t,n)=>{const e=t.__vccOpts||t;for(const[r,o]of n)e[r]=o;return e},Xa=An(If,[["__scopeId","data-v-f5d63ec0"]]),Tf={class:"cullendar-timeline-head"},Df=An(d.defineComponent({__name:"Timeline",props:{rows:{},columns:{}},setup(t){const n=t,e=d.inject("api"),{id:r,elements:o,layout:i}=d.toRefs(e);let s;const a=d.ref(i.value.daySize),c=d.computed(()=>({horizontal:!0,count:n.columns.length,getScrollElement:()=>{var g;return(g=o.value)==null?void 0:g.timeline},estimateSize:()=>a.value,gap:i.value.gap,overscan:i.value.overscan})),u=Ja(c),l=d.computed(()=>u.value.getVirtualItems()),f=d.computed(()=>u.value.getTotalSize()),h=d.computed(()=>({width:G(f.value)}));d.watch([()=>n.columns,()=>i.value.daySize],()=>m()),d.onMounted(()=>{o.value=bf(r.value),s=new ResizeObserver(([g])=>g&&m(g.contentRect.width)),s.observe(o.value.timeline)}),d.onUnmounted(()=>s.unobserve(o.value.timeline));function m(g){const y=g??o.value.timeline.clientWidth,v=i.value.gap*(n.columns.length-1),E=y-v,M=Math.max(i.value.daySize,Math.floor(E/n.columns.length));M!==a.value&&(a.value=M,u.value.measure())}function p(g){return{height:G(i.value.dayHeadSize),width:G(a.value),transform:`translateX(${G(g.start)}) translateY(0)`}}function w(g,y){return{width:G(a.value),height:G(g.size),transform:`translateX(${G(y.start)}) translateY(${G(g.start)})`}}return(g,y)=>(d.openBlock(),d.createBlock(Xa,{rows:g.rows,layout:d.unref(i),"wrapper-style":h.value,class:d.normalizeClass(["cullendar-timeline",d.unref(i).timelineClass])},{wrapper:d.withCtx(()=>[d.createElementVNode("div",Tf,[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(l.value,v=>(d.openBlock(),d.createElementBlock("div",{key:v.index,class:"cullendar-timeline-virtual-col",style:d.normalizeStyle(p(v))},[d.renderSlot(g.$slots,"head",d.mergeProps({ref_for:!0},{date:g.columns[v.index]}),void 0,!0)],4))),128))])]),default:d.withCtx(({row:v,data:E})=>[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(l.value,M=>(d.openBlock(),d.createElementBlock("div",{key:M.index,class:"cullendar-timeline-virtual-col",style:d.normalizeStyle(w(v,M))},[d.renderSlot(g.$slots,"default",d.mergeProps({ref_for:!0},{resource:E,date:g.columns[M.index]}),void 0,!0)],4))),128))]),_:3},8,["rows","layout","wrapper-style","class"]))}}),[["__scopeId","data-v-e945ff20"]]),Of=An(d.defineComponent({__name:"Resources",props:{rows:{}},setup(t){const n=d.inject("api"),{layout:e}=d.toRefs(n);function r(o){return{height:G(o.size),transform:`translateY(${G(o.start)})`}}return(o,i)=>(d.openBlock(),d.createBlock(Xa,{rows:o.rows,layout:d.unref(e),class:d.normalizeClass(["cullendar-resources",d.unref(e).resourcesClass])},{default:d.withCtx(({row:s,data:a})=>[d.createElementVNode("div",{class:"cullendar-resources-virtual-row",style:d.normalizeStyle(r(s))},[d.renderSlot(o.$slots,"default",d.normalizeProps(d.guardReactiveProps({resource:a})),void 0,!0)],4)]),_:3},8,["rows","layout","class"]))}}),[["__scopeId","data-v-44c18376"]]),Cf=d.defineComponent({__name:"Day",props:{date:{},resource:{}},setup(t){const n=t,e=d.inject("api"),{utils:r}=d.toRefs(e),o=d.computed(()=>r.value.getEvents(n.resource.id,n.date)),i=d.computed(()=>Array.from(o.value.values()).sort((s,a)=>Date.parse(s.start)-Date.parse(a.start)));return(s,a)=>d.renderSlot(s.$slots,"default",d.normalizeProps(d.guardReactiveProps({events:i.value})))}}),Rf=["id"],Ka=An(d.defineComponent({name:"Cullendar",__name:"index",props:{cullendar:{}},setup(t){const n=t;d.provide("api",n.cullendar);const{id:e,elements:r,view:o,resources:i}=d.toRefs(n.cullendar),s=d.computed(()=>Array.from(i.value.values()));d.onMounted(()=>{r.value.timeline.addEventListener("scroll",a),r.value.resources.addEventListener("scroll",a)});function a(c){const u=c.target,l=u.classList.contains("cullendar-timeline")?r.value.resources:r.value.timeline;l.removeEventListener("scroll",a),l.scrollTop=u.scrollTop,requestAnimationFrame(()=>l.addEventListener("scroll",a))}return(c,u)=>(d.openBlock(),d.createElementBlock("div",{id:d.unref(e),style:d.normalizeStyle({"--scrollbar-width":d.unref(df)()}),class:"cullendar"},[d.createVNode(Of,{rows:s.value},{default:d.withCtx(({resource:l})=>["isGroup"in l?d.renderSlot(c.$slots,"resourceGroup",d.normalizeProps(d.mergeProps({key:0},{resource:l})),void 0,!0):d.renderSlot(c.$slots,"resource",d.normalizeProps(d.mergeProps({key:1},{resource:l})),void 0,!0)]),_:3},8,["rows"]),d.createVNode(Df,{rows:s.value,columns:d.unref(o).dates},{head:d.withCtx(({date:l})=>[d.renderSlot(c.$slots,"dayHead",d.normalizeProps(d.guardReactiveProps({date:l})),void 0,!0)]),default:d.withCtx(({resource:l,date:f})=>["isGroup"in l?d.createCommentVNode("",!0):(d.openBlock(),d.createBlock(Cf,{key:0,date:f,resource:l},{default:d.withCtx(({events:h})=>[d.renderSlot(c.$slots,"day",d.normalizeProps(d.guardReactiveProps({resource:l,date:f,events:h})),()=>[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(h,m=>d.renderSlot(c.$slots,"event",d.mergeProps({key:m.id,ref_for:!0},{resource:l,event:m,date:f}),void 0,!0)),128))],!0)]),_:2},1032,["date","resource"]))]),_:3},8,["rows","columns"]),d.renderSlot(c.$slots,"default",{},void 0,!0)],12,Rf))}}),[["__scopeId","data-v-95fbc04c"]]),Nf=An(d.defineComponent({__name:"DragEvent",props:{data:{},dragClass:{},ghostClass:{}},setup(t){const n=t;let e;const r=d.computed(()=>{var c,u;return((u=(c=n.dragClass)==null?void 0:c.split)==null?void 0:u.call(c," "))||[]}),o=d.computed(()=>{var c,u;return((u=(c=n.ghostClass)==null?void 0:c.split)==null?void 0:u.call(c," "))||[]});function i(c){if(!c.dataTransfer)return;const u=document.querySelector(".cullendar"),l=c.target,f=l.getBoundingClientRect();e=a(l,f),l.classList.add(...r.value),c.dataTransfer.setDragImage(e,c.clientX-f.left,c.clientY-f.top),c.dataTransfer.effectAllowed="id"in n.data?"move":"copy",c.dataTransfer.setData(it.DATA_TRANSFER_TYPE,JSON.stringify(n.data)),requestAnimationFrame(()=>u.classList.add(it.DRAGGING_CLASS))}function s(c){const u=document.querySelector(".cullendar");c.target.classList.remove(...r.value),u.classList.remove(it.DRAGGING_CLASS),e&&e.remove()}function a(c,u){const l=c.cloneNode(!0);return l.classList.add("cullendar-ghost-event",...o.value),l.style.height=G(u.height),l.style.width=G(u.width),document.body.appendChild(l),l}return(c,u)=>(d.openBlock(),d.createElementBlock("div",{draggable:"true",class:"cullendar-drag-event",onDragstart:d.withModifiers(i,["stop"]),onDragend:d.withModifiers(s,["stop"])},[d.renderSlot(c.$slots,"default",{},void 0,!0)],32))}}),[["__scopeId","data-v-20852942"]]),zf=d.defineComponent({__name:"DropDay",props:{date:{},resource:{},events:{},droppable:{type:Boolean,default:!0},dragoverClass:{},resizeoverClass:{}},setup(t){const n=t,e=d.inject("api"),{view:r,callbacks:o,resizeMap:i}=d.toRefs(e),s=d.ref(!1),a=d.computed(()=>{var m;return!!((m=i.value.get(n.resource.id))!=null&&m.includes(n.date))}),c=d.computed(()=>[s.value&&n.dragoverClass,a.value&&n.resizeoverClass].filter(Boolean).join(" "));function u(m){m.dataTransfer&&m.dataTransfer.types.includes(it.DATA_TRANSFER_TYPE)&&(s.value=!0)}function l(m){if(!m.dataTransfer||!m.dataTransfer.types.includes(it.DATA_TRANSFER_TYPE))return;s.value=!1;const p=JSON.parse(m.dataTransfer.getData(it.DATA_TRANSFER_TYPE));if(!p.id)return o.value.onAddEvent(h({data:p}));if(mn.Instant.from(p.start).toZonedDateTimeISO(r.value.timezone).toPlainDate().toString()===n.date&&ri(p.resourceId).includes(n.resource.id))return;const g=f(p),y=h({event:p,times:g});o.value.onBeforeDropEvent(y)&&o.value.onMoveEvent(y)}function f(m){const p=mn.PlainDate.from(n.date),w=mn.Instant.from(m.start).toZonedDateTimeISO(r.value.timezone),g=mn.Instant.from(m.end).toZonedDateTimeISO(r.value.timezone),y=w.until(g),v=w.with({year:p.year,month:p.month,day:p.day});return{start:v.toString({timeZoneName:"never"}),end:v.add(y).toString({timeZoneName:"never"})}}function h(m={}){return{...m,date:n.date,resource:n.resource,view:r.value}}return(m,p)=>(d.openBlock(),d.createElementBlock("div",{class:d.normalizeClass(c.value)},[m.droppable&&m.resource.isEventDroppable?(d.openBlock(),d.createElementBlock("span",{key:0,class:"cullendar-day-dropzone",onDragenter:u,onDragover:p[0]||(p[0]=d.withModifiers(()=>{},["prevent"])),onDragleave:p[1]||(p[1]=w=>s.value=!1),onDrop:l},null,32)):d.createCommentVNode("",!0),d.renderSlot(m.$slots,"default",d.normalizeProps(d.guardReactiveProps({date:m.date,resource:m.resource,events:m.events,isDragOver:s.value,isResizeOver:a.value})))],2))}}),_f=An(d.defineComponent({__name:"ResizeHandle",props:{event:{},resource:{},date:{}},setup(t){const n=t,e=d.inject("api"),{elements:r,view:o,layout:i,callbacks:s,resizeMap:a}=d.toRefs(e);let c=0;const u=d.ref(0),l=d.ref(0),f=d.ref(!1);function h(g){const y=document.querySelector(".cullendar-timeline-virtual-col");f.value=!0,u.value=g.x,l.value=y.clientWidth,document.addEventListener("mousemove",m),document.addEventListener("mouseup",p),r.value.calendar.classList.add(it.RESIZING_CLASS)}function m(g){const y=Math.max(0,g.x-u.value),v=Math.ceil(y/(l.value+i.value.gap));c!==v&&(c=v,a.value.set(n.resource.id,w(v)))}function p(){const g=a.value.get(n.resource.id)||[];c=0,f.value=!1,u.value=0,a.value.clear(),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",p),r.value.calendar.classList.remove(it.RESIZING_CLASS),g.length&&s.value.onResizeEvent({event:n.event,resource:n.resource,dates:g,view:o.value})}function w(g){const y=o.value.dates,v=y.indexOf(n.date)+1;return y.slice(v,v+g)}return(g,y)=>(d.openBlock(),d.createElementBlock("div",{draggable:"true",class:"cullendar-resize-handle",onDragstart:y[0]||(y[0]=d.withModifiers(()=>{},["stop","prevent"])),onMousedown:h},[d.renderSlot(g.$slots,"default",d.normalizeProps(d.guardReactiveProps({isResizing:f.value})),void 0,!0)],32))}}),[["__scopeId","data-v-8c805a83"]]),kf={install:t=>t.component("Cullendar",Ka)};Q.Cullendar=Ka,Q.DragEvent=Nf,Q.DropDay=zf,Q.ResizeHandle=_f,Q.create=lf,Q.default=kf,Object.defineProperties(Q,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
